const express = require('express');
const path = require('path');
const app = express();
const PORT = 3000;  // ØªØºÛŒÛŒØ± Ù¾ÙˆØ±Øª Ø¨Ù‡ 3000

// Ù…ÛŒØ¯Ù„ÙˆØ±Ù‡Ø§
app.use(express.static('public'));
app.use(express.json());
app.use(express.urlencoded({ extended: true }));

// RouteÙ‡Ø§ÛŒ Ø§ØµÙ„ÛŒ
app.get('/', (req, res) => {
    res.sendFile(path.join(__dirname, 'public', 'dashboard.html'));
});

app.get('/driver-dashboard', (req, res) => {
    res.sendFile(path.join(__dirname, 'public', 'driver-dashboard.html'));
});

app.get('/driver-profile', (req, res) => {
    res.sendFile(path.join(__dirname, 'public', 'driver-profile.html'));
});

app.get('/calls', (req, res) => {
    res.sendFile(path.join(__dirname, 'public', 'calls.html'));
});

app.get('/contact', (req, res) => {
    res.sendFile(path.join(__dirname, 'public', 'contact.html'));
});

app.get('/driver-registration', (req, res) => {
    res.sendFile(path.join(__dirname, 'public', 'driver-registration.html'));
});

// ==================== AI SAHEL PRO - Ø³ÛŒØ³ØªÙ… Ù‡ÙˆØ´ Ù…ØµÙ†ÙˆØ¹ÛŒ Ù¾ÛŒØ´Ø±ÙØªÙ‡ ====================

// ØµÙØ­Ù‡ AI Chat Pro
app.get('/ai-chat', (req, res) => {
    res.sendFile(path.join(__dirname, 'public', 'ai-chat-pro.html'));
});

// ØµÙØ­Ù‡ AI Chat Pro Ø¬Ø¯ÛŒØ¯
app.get('/ai-chat-pro', (req, res) => {
    res.sendFile(path.join(__dirname, 'public', 'ai-chat-pro.html'));
});

// endpoint Ø§ØµÙ„ÛŒ AI Chat Pro
app.post('/ai-chat-pro', express.json(), (req, res) => {
    try {
        const { message } = req.body;
        console.log('ðŸ¤– AI Sahel Pro - Ø¯Ø±ÛŒØ§ÙØª Ø³ÙˆØ§Ù„:', message);
        
        if (!message || message.trim() === '') {
            return res.json({ 
                response: 'Ù„Ø·ÙØ§Ù‹ Ø³ÙˆØ§Ù„ Ø®ÙˆØ¯ Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯',
                alerts: [],
                status: 'error'
            });
        }

        const userMessage = message.toLowerCase().trim();
        let response = '';
        const alerts = [];

        // ðŸš¦ Ø³ÛŒØ³ØªÙ… ØªØ±Ø§ÙÛŒÚ© Ùˆ Ù…Ø³ÛŒØ±ÛŒØ§Ø¨ÛŒ Ù‡ÙˆØ´Ù…Ù†Ø¯
        if (userMessage.includes('ØªØ±Ø§ÙÛŒÚ©') || userMessage.includes('Ø§Ø²Ù…ÙˆÙ†') || userMessage.includes('ØªØ±Ø§ÙÛŒÚ¯')) {
            response = `ðŸš¦ **ÙˆØ¶Ø¹ÛŒØª ØªØ±Ø§ÙÛŒÚ© Ù„Ø­Ø¸Ù‡â€ŒØ§ÛŒ Ø¬Ø§Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ Ù‡Ø±Ù…Ø²Ú¯Ø§Ù†:**\n\n` +
                      `ðŸŸ¢ **Ø¨Ù†Ø¯Ø±Ø¹Ø¨Ø§Ø³ - Ù‚Ø´Ù…:**\n   - ÙˆØ¶Ø¹ÛŒØª: Ø±ÙˆØ§Ù†\n   - Ø²Ù…Ø§Ù†: 25 Ø¯Ù‚ÛŒÙ‚Ù‡\n   - Ù…Ø³Ø§ÙØª: 22 Ú©ÛŒÙ„ÙˆÙ…ØªØ±\n\n` +
                      `ðŸ”´ **Ø¨Ù†Ø¯Ø±Ø¹Ø¨Ø§Ø³ - Ù…ÛŒÙ†Ø§Ø¨:**\n   - ÙˆØ¶Ø¹ÛŒØª: Ø³Ù†Ú¯ÛŒÙ†\n   - Ø²Ù…Ø§Ù†: 1.5 Ø³Ø§Ø¹Øª\n   - Ù…Ø³Ø§ÙØª: 85 Ú©ÛŒÙ„ÙˆÙ…ØªØ±\n   - Ø¹Ù„Øª: ØªØµØ§Ø¯Ù Ø¯Ø± Ú©ÛŒÙ„ÙˆÙ…ØªØ± 45\n\n` +
                      `ðŸŸ¡ **Ø¨Ù†Ø¯Ø±Ø¹Ø¨Ø§Ø³ - Ø¨Ù†Ø¯Ø±Ù„Ù†Ú¯Ù‡:**\n   - ÙˆØ¶Ø¹ÛŒØª: Ù†ÛŒÙ…Ù‡ Ø³Ù†Ú¯ÛŒÙ†\n   - Ø²Ù…Ø§Ù†: 2 Ø³Ø§Ø¹Øª\n   - Ù…Ø³Ø§ÙØª: 180 Ú©ÛŒÙ„ÙˆÙ…ØªØ±\n\n` +
                      `ðŸŸ¢ **Ø¨Ù†Ø¯Ø±Ø¹Ø¨Ø§Ø³ - Ø¬Ø§Ø³Ú©:**\n   - ÙˆØ¶Ø¹ÛŒØª: Ø±ÙˆØ§Ù†\n   - Ø²Ù…Ø§Ù†: 4 Ø³Ø§Ø¹Øª\n   - Ù…Ø³Ø§ÙØª: 350 Ú©ÛŒÙ„ÙˆÙ…ØªØ±\n\n` +
                      `â±ï¸ **Ø¢Ø®Ø±ÛŒÙ† Ø¨Ø±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ:** ${new Date().toLocaleTimeString('fa-IR')}`;
            
            alerts.push('âš ï¸ **Ø§Ø®Ø·Ø§Ø± ØªØ±Ø§ÙÛŒÚ©ÛŒ:** Ø¬Ø§Ø¯Ù‡ Ø¨Ù†Ø¯Ø±Ø¹Ø¨Ø§Ø³-Ù…ÛŒÙ†Ø§Ø¨ Ø³Ù†Ú¯ÛŒÙ† Ø§Ø³Øª. Ù…Ø³ÛŒØ± Ø¬Ø§ÛŒÚ¯Ø²ÛŒÙ† Ø§Ø² Ø·Ø±ÛŒÙ‚ Ø¬Ø§Ø¯Ù‡ Ù‚Ø¯ÛŒÙ… Ù¾ÛŒØ´Ù†Ù‡Ø§Ø¯ Ù…ÛŒâ€ŒØ´ÙˆØ¯.');
            alerts.push('ðŸ“± **Ø±Ø§Ù‡Ù†Ù…Ø§ÛŒÛŒ:** Ø¨Ø±Ø§ÛŒ Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø¨ÛŒØ´ØªØ± Ø¨Ø§ Ù¾Ù„ÛŒØ³ Ø±Ø§Ù‡ ØªÙ…Ø§Ø³ Ø¨Ú¯ÛŒØ±ÛŒØ¯: Û±Û±Û°');
        }

        // âš–ï¸ Ø³ÛŒØ³ØªÙ… Ù‚ÙˆØ§Ù†ÛŒÙ† Ùˆ Ø¬Ø±Ø§ÛŒÙ… Ø±Ø§Ù†Ù†Ø¯Ú¯ÛŒ
        else if (userMessage.includes('Ø¬Ø±ÛŒÙ…Ù‡') || userMessage.includes('Ø¬Ø±Ù…') || userMessage.includes('Ù‚Ø§Ù†ÙˆÙ†') || userMessage.includes('ØªØ®Ù„Ù')) {
            response = `âš–ï¸ **Ù‚ÙˆØ§Ù†ÛŒÙ† Ùˆ Ø¬Ø±Ø§ÛŒÙ… Ø±Ø§Ù†Ù†Ø¯Ú¯ÛŒ - Ø§Ø³ØªØ§Ù† Ù‡Ø±Ù…Ø²Ú¯Ø§Ù†:**\n\n` +
                      `ðŸ“‹ **Ø¬Ø±Ø§ÛŒÙ… Ù…Ø§Ù„ÛŒ:**\n` +
                      `â€¢ **Ø³Ø±Ø¹Øª ØºÛŒØ±Ù…Ø¬Ø§Ø² Ø¯Ø± Ø´Ù‡Ø±:** ÛµÛ°Û°,Û°Û°Û° ØªÙˆÙ…Ø§Ù†\n` +
                      `â€¢ **Ø³Ø±Ø¹Øª ØºÛŒØ±Ù…Ø¬Ø§Ø² Ø¨Ø±ÙˆÙ†â€ŒØ´Ù‡Ø±ÛŒ:** Û±,Û°Û°Û°,Û°Û°Û° ØªÙˆÙ…Ø§Ù†\n` +
                      `â€¢ **Ø³Ø¨Ù‚Øª ØºÛŒØ±Ù…Ø¬Ø§Ø²:** Û·ÛµÛ°,Û°Û°Û° ØªÙˆÙ…Ø§Ù†\n` +
                      `â€¢ **ØµØ­Ø¨Øª Ø¨Ø§ ØªÙ„ÙÙ† Ù‡Ù…Ø±Ø§Ù‡:** Û³Û°Û°,Û°Û°Û° ØªÙˆÙ…Ø§Ù†\n` +
                      `â€¢ **Ù†Ø¯Ø§Ø´ØªÙ† Ø¨ÛŒÙ…Ù‡ Ø´Ø®Øµ Ø«Ø§Ù„Ø«:** Û±,Û°Û°Û°,Û°Û°Û° ØªÙˆÙ…Ø§Ù†\n` +
                      `â€¢ **Ú©Ù…Ø±Ø¨Ù†Ø¯ Ø§ÛŒÙ…Ù†ÛŒ:** Û²Û°Û°,Û°Û°Û° ØªÙˆÙ…Ø§Ù†\n\n` +
                      `ðŸ”§ **Ø¬Ø±Ø§ÛŒÙ… ÙÙ†ÛŒ:**\n` +
                      `â€¢ **Ù„Ù†Øª ÙØ±Ø³ÙˆØ¯Ù‡ ØªØ±Ù…Ø²:** Û´Û°Û°,Û°Û°Û° ØªÙˆÙ…Ø§Ù†\n` +
                      `â€¢ **Ø±ÙˆØºÙ†â€ŒØ±ÛŒØ²ÛŒ Ø®ÙˆØ¯Ø±Ùˆ:** Û³Û°Û°,Û°Û°Û° ØªÙˆÙ…Ø§Ù†\n` +
                      `â€¢ **Ø¯ÙˆØ¯Ø²Ø§ Ø¨ÙˆØ¯Ù† Ø®ÙˆØ¯Ø±Ùˆ:** ÛµÛ°Û°,Û°Û°Û° ØªÙˆÙ…Ø§Ù†\n\n` +
                      `ðŸ“ž **Ø§Ø³ØªØ¹Ù„Ø§Ù… Ø¬Ø±Ø§ÛŒÙ…:** *Û±Û´Û±#\n` +
                      `ðŸ•’ **Ù…Ù‡Ù„Øª Ù¾Ø±Ø¯Ø§Ø®Øª:** Û³Û° Ø±ÙˆØ²`;
            
            alerts.push('ðŸ”’ **ØªÙˆØµÛŒÙ‡ Ø§ÛŒÙ…Ù†ÛŒ:** Ù‡Ù…ÛŒØ´Ù‡ Ú©Ù…Ø±Ø¨Ù†Ø¯ Ø§ÛŒÙ…Ù†ÛŒ Ø®ÙˆØ¯ Ùˆ Ø³Ø±Ù†Ø´ÛŒÙ†Ø§Ù† Ø±Ø§ Ø¨Ø±Ø±Ø³ÛŒ Ú©Ù†ÛŒØ¯.');
            alerts.push('ðŸ’° **Ù‡Ø´Ø¯Ø§Ø± Ù…Ø§Ù„ÛŒ:** Ø¬Ø±Ø§ÛŒÙ… Ø±Ø§Ù†Ù†Ø¯Ú¯ÛŒ Ù¾Ø³ Ø§Ø² Û³Û° Ø±ÙˆØ² Û²Û°Ùª Ø§ÙØ²Ø§ÛŒØ´ Ù…ÛŒâ€ŒÛŒØ§Ø¨Ø¯.');
        }

        // ðŸŒ¤ï¸ Ø³ÛŒØ³ØªÙ… Ø¢Ø¨ Ùˆ Ù‡ÙˆØ§ÛŒ Ø¬Ø§Ø¯Ù‡â€ŒÙ‡Ø§
        else if (userMessage.includes('Ø¢Ø¨ Ùˆ Ù‡ÙˆØ§') || userMessage.includes('Ù‡ÙˆØ§') || userMessage.includes('Ø§Ø¨ Ùˆ Ù‡ÙˆØ§') || userMessage.includes('Ø§Ù‚Ù„ÛŒÙ…')) {
            response = `ðŸŒ¤ï¸ **ÙˆØ¶Ø¹ÛŒØª Ø¢Ø¨ Ùˆ Ù‡ÙˆØ§ÛŒ Ø¬Ø§Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ Ù‡Ø±Ù…Ø²Ú¯Ø§Ù†:**\n\n` +
                      `ðŸ“ **Ø¨Ù†Ø¯Ø±Ø¹Ø¨Ø§Ø³:**\n` +
                      `   - Ø¯Ù…Ø§: Û³Û²Â°C\n` +
                      `   - ÙˆØ¶Ø¹ÛŒØª: Ø¢ÙØªØ§Ø¨ÛŒ ðŸŒž\n` +
                      `   - Ø±Ø·ÙˆØ¨Øª: Û¶ÛµÙª\n` +
                      `   - Ø¯ÛŒØ¯: Û±Û° Ú©ÛŒÙ„ÙˆÙ…ØªØ±\n\n` +
                      `ðŸ“ **Ù‚Ø´Ù…:**\n` +
                      `   - Ø¯Ù…Ø§: Û³Û°Â°C\n` +
                      `   - ÙˆØ¶Ø¹ÛŒØª: Ù†ÛŒÙ…Ù‡ Ø§Ø¨Ø±ÛŒ â›…\n` +
                      `   - Ø±Ø·ÙˆØ¨Øª: Û·Û°Ùª\n` +
                      `   - ÙˆØ²Ø´ Ø¨Ø§Ø¯: Û±Ûµ Ú©ÛŒÙ„ÙˆÙ…ØªØ± Ø¨Ø± Ø³Ø§Ø¹Øª\n\n` +
                      `ðŸ“ **Ù…ÛŒÙ†Ø§Ø¨:**\n` +
                      `   - Ø¯Ù…Ø§: Û³Û´Â°C\n` +
                      `   - ÙˆØ¶Ø¹ÛŒØª: Ø¢ÙØªØ§Ø¨ÛŒ ðŸŒž\n` +
                      `   - Ø±Ø·ÙˆØ¨Øª: Û¶Û°Ùª\n` +
                      `   - Ù‡Ø´Ø¯Ø§Ø±: Ú¯Ø±Ù…Ø§Ø²Ø¯Ú¯ÛŒ\n\n` +
                      `ðŸ“ **Ø¨Ù†Ø¯Ø±Ù„Ù†Ú¯Ù‡:**\n` +
                      `   - Ø¯Ù…Ø§: Û³Û±Â°C\n` +
                      `   - ÙˆØ¶Ø¹ÛŒØª: Ù…Ø±Ø·ÙˆØ¨ ðŸ’§\n` +
                      `   - Ø±Ø·ÙˆØ¨Øª: Û¸Û°Ùª\n` +
                      `   - Ø¯ÛŒØ¯: Û¸ Ú©ÛŒÙ„ÙˆÙ…ØªØ±\n\n` +
                      `ðŸ“¡ **Ù¾ÛŒØ´â€ŒØ¨ÛŒÙ†ÛŒ Û²Û´ Ø³Ø§Ø¹Øª Ø¢ÛŒÙ†Ø¯Ù‡:** Ø´Ø±Ø§ÛŒØ· Ø¬ÙˆÛŒ Ù¾Ø§ÛŒØ¯Ø§Ø±`;
            
            alerts.push('ðŸŒ¡ï¸ **Ù‡Ø´Ø¯Ø§Ø± Ø¢Ø¨ Ùˆ Ù‡ÙˆØ§ÛŒÛŒ:** Ø¯Ø± Ù…Ø³ÛŒØ± Ù…ÛŒÙ†Ø§Ø¨ Ù…Ø±Ø§Ù‚Ø¨ Ú¯Ø±Ù…Ø§Ø²Ø¯Ú¯ÛŒ Ø¨Ø§Ø´ÛŒØ¯.');
            alerts.push('ðŸ’§ **ØªÙˆØµÛŒÙ‡:** Ø¨Ù‡ Ù‡Ù…Ø±Ø§Ù‡ Ø¯Ø§Ø´ØªÙ† Ø¢Ø¨ Ú©Ø§ÙÛŒ Ø¯Ø± Ù…Ø³ÛŒØ±Ù‡Ø§ÛŒ Ø·ÙˆÙ„Ø§Ù†ÛŒ Ø¶Ø±ÙˆØ±ÛŒ Ø§Ø³Øª.');
        }

        // ðŸ—ºï¸ Ø³ÛŒØ³ØªÙ… Ù…Ø³ÛŒØ±ÛŒØ§Ø¨ÛŒ Ù‡ÙˆØ´Ù…Ù†Ø¯
        else if (userMessage.includes('Ù…Ø³ÛŒØ±') || userMessage.includes('Ø±Ø§Ù‡') || userMessage.includes('Ø¬Ø§Ø¯Ù‡') || userMessage.includes('Ù…Ø³ÛŒØ±ÛŒØ§Ø¨ÛŒ')) {
            response = `ðŸ—ºï¸ **Ù…Ø³ÛŒØ±ÛŒØ§Ø¨ÛŒ Ù‡ÙˆØ´Ù…Ù†Ø¯ - Ø§Ø³ØªØ§Ù† Ù‡Ø±Ù…Ø²Ú¯Ø§Ù†:**\n\n` +
                      `ðŸ“ **Ù…Ø³ÛŒØ±: Ø¨Ù†Ø¯Ø±Ø¹Ø¨Ø§Ø³ â†’ Ù‚Ø´Ù…**\n` +
                      `   - Ù…Ø³Ø§ÙØª: Û²Û² Ú©ÛŒÙ„ÙˆÙ…ØªØ±\n` +
                      `   - Ø²Ù…Ø§Ù†: Û²Ûµ Ø¯Ù‚ÛŒÙ‚Ù‡\n` +
                      `   - ÙˆØ¶Ø¹ÛŒØª: Ø±ÙˆØ§Ù† ðŸŸ¢\n` +
                      `   - Ù†Ú©Ø§Øª:\n     â€¢ Ù¾Ø±Ø¯Ø§Ø®Øª Ø¹ÙˆØ§Ø±Ø¶ Ù¾Ù„: ÛµÛ°,Û°Û°Û° ØªÙˆÙ…Ø§Ù†\n     â€¢ Ù…Ø­Ø¯ÙˆØ¯Ù‡ Ø³Ø±Ø¹Øª: Û¸Û° Ú©ÛŒÙ„ÙˆÙ…ØªØ± Ø¨Ø± Ø³Ø§Ø¹Øª\n     â€¢ Ø¬Ø§ÛŒÚ¯Ø§Ù‡ Ø³ÙˆØ®Øª: Û³ Ø¬Ø§ÛŒÚ¯Ø§Ù‡ Ø¯Ø± Ù…Ø³ÛŒØ±\n\n` +
                      `ðŸ“ **Ù…Ø³ÛŒØ±: Ø¨Ù†Ø¯Ø±Ø¹Ø¨Ø§Ø³ â†’ Ù…ÛŒÙ†Ø§Ø¨**\n` +
                      `   - Ù…Ø³Ø§ÙØª: Û¸Ûµ Ú©ÛŒÙ„ÙˆÙ…ØªØ±\n` +
                      `   - Ø²Ù…Ø§Ù†: Û±.Ûµ Ø³Ø§Ø¹Øª\n` +
                      `   - ÙˆØ¶Ø¹ÛŒØª: Ø³Ù†Ú¯ÛŒÙ† ðŸ”´\n` +
                      `   - Ù…Ø³ÛŒØ± Ø¬Ø§ÛŒÚ¯Ø²ÛŒÙ†: Û² Ø³Ø§Ø¹Øª\n   - Ø¹Ù„Øª: ØªØµØ§Ø¯Ù Ø¯Ø± Ú©ÛŒÙ„ÙˆÙ…ØªØ± Û´Ûµ\n\n` +
                      `ðŸ“ **Ù…Ø³ÛŒØ±: Ø¨Ù†Ø¯Ø±Ø¹Ø¨Ø§Ø³ â†’ Ø¨Ù†Ø¯Ø±Ù„Ù†Ú¯Ù‡**\n` +
                      `   - Ù…Ø³Ø§ÙØª: Û±Û¸Û° Ú©ÛŒÙ„ÙˆÙ…ØªØ±\n` +
                      `   - Ø²Ù…Ø§Ù†: Û² Ø³Ø§Ø¹Øª\n` +
                      `   - ÙˆØ¶Ø¹ÛŒØª: Ù†ÛŒÙ…Ù‡ Ø³Ù†Ú¯ÛŒÙ† ðŸŸ¡\n   - Ù†Ú©Ø§Øª:\n     â€¢ Ûµ Ù¾Ù„ÛŒØ³ Ø±Ø§Ù‡ Ø¯Ø± Ù…Ø³ÛŒØ±\n     â€¢ Û² Ù…Ù†Ø·Ù‚Ù‡ Ø§Ø³ØªØ±Ø§Ø­Øª\n\n` +
                      `ðŸ“ **Ù…Ø³ÛŒØ±: Ø¨Ù†Ø¯Ø±Ø¹Ø¨Ø§Ø³ â†’ Ø¬Ø§Ø³Ú©**\n` +
                      `   - Ù…Ø³Ø§ÙØª: Û³ÛµÛ° Ú©ÛŒÙ„ÙˆÙ…ØªØ±\n` +
                      `   - Ø²Ù…Ø§Ù†: Û´ Ø³Ø§Ø¹Øª\n` +
                      `   - ÙˆØ¶Ø¹ÛŒØª: Ø±ÙˆØ§Ù† ðŸŸ¢\n   - Ù†Ú©Ø§Øª:\n     â€¢ Ø¢Ø®Ø±ÛŒÙ† Ø¬Ø§ÛŒÚ¯Ø§Ù‡ Ø³ÙˆØ®Øª Ø¯Ø± Ú©ÛŒÙ„ÙˆÙ…ØªØ± Û±ÛµÛ°\n     â€¢ Ù…Ù†Ø·Ù‚Ù‡ Ø¨ÛŒØ§Ø¨Ø§Ù†ÛŒ - Ø¢Ø¨ Ú©Ø§ÙÛŒ Ù‡Ù…Ø±Ø§Ù‡ Ø¯Ø§Ø´ØªÙ‡ Ø¨Ø§Ø´ÛŒØ¯`;
            
            alerts.push('ðŸ›£ï¸ **ØªÙˆØµÛŒÙ‡ Ù…Ø³ÛŒØ±ÛŒØ§Ø¨ÛŒ:** Ø¨Ø±Ø§ÛŒ Ù…Ø³ÛŒØ±Ù‡Ø§ÛŒ Ø·ÙˆÙ„Ø§Ù†ÛŒ Ø§Ø² Ø³Ù„Ø§Ù…Øª Ø®ÙˆØ¯Ø±Ùˆ Ø§Ø·Ù…ÛŒÙ†Ø§Ù† Ø­Ø§ØµÙ„ Ú©Ù†ÛŒØ¯.');
            alerts.push('â›½ **Ù‡Ø´Ø¯Ø§Ø± Ø³ÙˆØ®Øª:** Ø¯Ø± Ù…Ø³ÛŒØ± Ø¬Ø§Ø³Ú© Ø­ØªÙ…Ø§Ù‹ Ø¨Ø§Ú© Ø®ÙˆØ¯Ø±Ùˆ Ø±Ø§ Ù¾Ø± Ú©Ù†ÛŒØ¯.');
        }

        // ðŸ“· Ø³ÛŒØ³ØªÙ… Ø¯ÙˆØ±Ø¨ÛŒÙ†â€ŒÙ‡Ø§ÛŒ Ù†Ø¸Ø§Ø±ØªÛŒ Ùˆ Ø§Ø®Ø·Ø§Ø±Ù‡Ø§
        else if (userMessage.includes('Ø¯ÙˆØ±Ø¨ÛŒÙ†') || userMessage.includes('Ú©amera') || userMessage.includes('Ù†Ø¸Ø§Ø±Øª') || userMessage.includes('Ú©Ù†ØªØ±Ù„')) {
            response = `ðŸ“· **Ø³ÛŒØ³ØªÙ… Ù†Ø¸Ø§Ø±Øª ØªØµÙˆÛŒØ±ÛŒ Ø¬Ø§Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ Ù‡Ø±Ù…Ø²Ú¯Ø§Ù†:**\n\n` +
                      `ðŸ”´ **Ø¯ÙˆØ±Ø¨ÛŒÙ†â€ŒÙ‡Ø§ÛŒ Ø«Ø§Ø¨Øª Ø³Ø±Ø¹Øª:** Û±Û² Ø¯Ø³ØªÚ¯Ø§Ù‡\n` +
                      `   - Ù¾Ù„ Ø®Ù„ÛŒØ¬ ÙØ§Ø±Ø³ (Ú©ÛŒÙ„ÙˆÙ…ØªØ± Ûµ)\n` +
                      `   - ÙˆØ±ÙˆØ¯ÛŒ Ø¨Ù†Ø¯Ø±Ø¹Ø¨Ø§Ø³ (Ú©ÛŒÙ„ÙˆÙ…ØªØ± Û±Ûµ)\n` +
                      `   - Ù…Ø­ÙˆØ± Ù…ÛŒÙ†Ø§Ø¨ (Ú©ÛŒÙ„ÙˆÙ…ØªØ± Û³Ûµ)\n` +
                      `   - Ø¬Ø§Ø¯Ù‡ Ø¨Ù†Ø¯Ø±Ù„Ù†Ú¯Ù‡ (Ú©ÛŒÙ„ÙˆÙ…ØªØ± Û¸Û°)\n\n` +
                      `ðŸŸ¡ **Ø¯ÙˆØ±Ø¨ÛŒÙ†â€ŒÙ‡Ø§ÛŒ Ú†Ø±Ø§Øº Ù‚Ø±Ù…Ø²:** Û¸ Ø¯Ø³ØªÚ¯Ø§Ù‡\n` +
                      `   - Ù…ÛŒØ¯Ø§Ù† Ø§Ù…Ø§Ù… Ø­Ø³ÛŒÙ†\n` +
                      `   - Ù…ÛŒØ¯Ø§Ù† Ø´Ù‡Ø¯Ø§\n` +
                      `   - ØªÙ‚Ø§Ø·Ø¹ ÙØ±ÙˆØ¯Ú¯Ø§Ù‡\n   - Ú†Ù‡Ø§Ø±Ø±Ø§Ù‡ ÙˆÙ„ÛŒØ¹ØµØ±\n\n` +
                      `ðŸŸ¢ **Ø¯ÙˆØ±Ø¨ÛŒÙ†â€ŒÙ‡Ø§ÛŒ Ù†Ø¸Ø§Ø±ØªÛŒ:** Û²Ûµ Ø¯Ø³ØªÚ¯Ø§Ù‡\n` +
                      `   - ØªØ±Ù…ÛŒÙ†Ø§Ù„ Ù…Ø³Ø§ÙØ±Ø¨Ø±ÛŒ\n` +
                      `   - Ø§Ø³Ú©Ù„Ù‡â€ŒÙ‡Ø§ÛŒ Ø§ØµÙ„ÛŒ\n   - Ù…Ø±Ø§Ú©Ø² ØªØ¬Ø§Ø±ÛŒ\n\n` +
                      `âš¡ **Ø³ÛŒØ³ØªÙ… Ø§Ø®Ø·Ø§Ø± Ø®ÙˆØ¯Ú©Ø§Ø±:** ÙØ¹Ø§Ù„\n   - Ù‡Ø´Ø¯Ø§Ø± Ø³Ø±Ø¹Øª\n   - Ù‡Ø´Ø¯Ø§Ø± Ø³Ø¨Ù‚Øª ØºÛŒØ±Ù…Ø¬Ø§Ø²\n   - Ù‡Ø´Ø¯Ø§Ø± ÙØ§ØµÙ„Ù‡ Ø§ÛŒÙ…Ù†ÛŒ`;
            
            alerts.push('ðŸ“¸ **Ø§Ø®Ø·Ø§Ø± Ø¯ÙˆØ±Ø¨ÛŒÙ†:** Ù…Ø­Ø¯ÙˆØ¯Ù‡ Ú©Ù†ØªØ±Ù„ Ø³Ø±Ø¹Øª Ø¯Ø± Û² Ú©ÛŒÙ„ÙˆÙ…ØªØ± Ø¢ÛŒÙ†Ø¯Ù‡ - Ù¾Ù„ Ø®Ù„ÛŒØ¬ ÙØ§Ø±Ø³');
            alerts.push('ðŸš¨ **Ù‡Ø´Ø¯Ø§Ø± Ø§ÛŒÙ…Ù†ÛŒ:** Ø³Ø±Ø¹Øª Ù…Ø¬Ø§Ø² Ø¯Ø± Ù…Ø­Ø¯ÙˆØ¯Ù‡ Ø¯ÙˆØ±Ø¨ÛŒÙ†â€ŒÙ‡Ø§ Û¶Û° Ú©ÛŒÙ„ÙˆÙ…ØªØ± Ø¨Ø± Ø³Ø§Ø¹Øª Ø§Ø³Øª');
        }

        // ðŸš¨ Ø³ÛŒØ³ØªÙ… Ø§Ø®Ø·Ø§Ø±Ù‡Ø§ÛŒ Ø§ÛŒÙ…Ù†ÛŒ
        else if (userMessage.includes('Ø§Ø®Ø·Ø§Ø±') || userMessage.includes('Ù‡Ø´Ø¯Ø§Ø±') || userMessage.includes('Ø§ÛŒÙ…Ù†ÛŒ') || userMessage.includes('Ø®Ø·Ø±')) {
            response = `ðŸš¨ **Ø³ÛŒØ³ØªÙ… Ø§Ø®Ø·Ø§Ø±Ù‡Ø§ÛŒ Ø§ÛŒÙ…Ù†ÛŒ ÙØ¹Ø§Ù„:**\n\n` +
                      `ðŸ”´ **Ø§Ø®Ø·Ø§Ø±Ù‡Ø§ÛŒ ÙÙˆØ±ÛŒ:**\n` +
                      `â€¢ Ú©Ø§Ù‡Ø´ Ø¯ÛŒØ¯ Ø¯Ø± Ø¬Ø§Ø¯Ù‡ Ø¨Ù†Ø¯Ø±Ù„Ù†Ú¯Ù‡ (Ú©ÛŒÙ„ÙˆÙ…ØªØ± Û±Û²Û°-Û±Û´Û°)\n` +
                      `â€¢ ØªØ¹Ù…ÛŒØ±Ø§Øª Ø¬Ø§Ø¯Ù‡â€ŒØ§ÛŒ Ù…Ø­ÙˆØ± Ù…ÛŒÙ†Ø§Ø¨ (Ú©ÛŒÙ„ÙˆÙ…ØªØ± Û´Û°-ÛµÛ°)\n` +
                      `â€¢ ÙˆØ²Ø´ Ø¨Ø§Ø¯ Ø´Ø¯ÛŒØ¯ Ø¯Ø± Ù…Ø³ÛŒØ± Ø¬Ø§Ø³Ú© (Ú©ÛŒÙ„ÙˆÙ…ØªØ± Û²Û°Û°-Û²ÛµÛ°)\n\n` +
                      `ðŸŸ¡ **Ø§Ø®Ø·Ø§Ø±Ù‡Ø§ÛŒ Ù…Ù‡Ù…:**\n` +
                      `â€¢ ØªØ±Ø§ÙÛŒÚ© Ø³Ù†Ú¯ÛŒÙ† ÙˆØ±ÙˆØ¯ÛŒ Ø¨Ù†Ø¯Ø±Ø¹Ø¨Ø§Ø³\n` +
                      `â€¢ Ú¯Ø±Ø¯ Ùˆ Ø®Ø§Ú© Ø¯Ø± Ù…Ø­ÙˆØ± Ø¨Ø³ØªÚ©\n   â€¢ Ø¨Ø§Ø±Ù†Ø¯Ú¯ÛŒ Ø¯Ø± Ø§Ø±ØªÙØ§Ø¹Ø§Øª\n\n` +
                      `ðŸŸ¢ **ØªÙˆØµÛŒÙ‡â€ŒÙ‡Ø§ÛŒ Ø§ÛŒÙ…Ù†ÛŒ:**\n` +
                      `â€¢ ÙØ§ØµÙ„Ù‡ Ø§ÛŒÙ…Ù†ÛŒ Û³ Ø«Ø§Ù†ÛŒÙ‡â€ŒØ§ÛŒ Ø±Ø§ Ø±Ø¹Ø§ÛŒØª Ú©Ù†ÛŒØ¯\n` +
                      `â€¢ Ú©Ù…Ø±Ø¨Ù†Ø¯ Ø§ÛŒÙ…Ù†ÛŒ Ø§Ù„Ø²Ø§Ù…ÛŒ Ø§Ø³Øª\n` +
                      `â€¢ Ø§Ø² Ø³Ø±Ø¹Øª Ù…Ø¬Ø§Ø² ØªØ¬Ø§ÙˆØ² Ù†Ú©Ù†ÛŒØ¯\n   â€¢ Ø¯Ø± Ù‡ÙˆØ§ÛŒ Ø¨Ø§Ø±Ø§Ù†ÛŒ Ú†Ø±Ø§Øºâ€ŒÙ‡Ø§ Ø±Ø§ Ø±ÙˆØ´Ù† Ú©Ù†ÛŒØ¯`;
            
            alerts.push('âš ï¸ **Ø§Ø®Ø·Ø§Ø± ÙÙˆØ±ÛŒ:** Ø¬Ø§Ø¯Ù‡ Ø¨Ù†Ø¯Ø±Ù„Ù†Ú¯Ù‡ - Ú©Ø§Ù‡Ø´ Ø¯ÛŒØ¯ ØªØ§ ÛµÛ°Û° Ù…ØªØ±');
            alerts.push('ðŸ”§ **ØªÙˆØµÛŒÙ‡ ÙÙ†ÛŒ:** Ù‚Ø¨Ù„ Ø§Ø² Ø³ÙØ± Ø§Ø² Ø³Ù„Ø§Ù…Øª Ù„Ø§Ø³ØªÛŒÚ©â€ŒÙ‡Ø§ Ùˆ ØªØ±Ù…Ø²Ù‡Ø§ Ø§Ø·Ù…ÛŒÙ†Ø§Ù† Ø­Ø§ØµÙ„ Ú©Ù†ÛŒØ¯');
        }

        // ðŸ“ž Ø³ÛŒØ³ØªÙ… Ø§Ø³ØªØ¹Ù„Ø§Ù… Ùˆ Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ
        else if (userMessage.includes('ØªÙ…Ø§Ø³') || userMessage.includes('Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ') || userMessage.includes('ØªÙ„ÙÙ†') || userMessage.includes('Ø´Ù…Ø§Ø±Ù‡')) {
            response = `ðŸ“ž **Ø³ÛŒØ³ØªÙ… Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ Ùˆ Ø§Ø³ØªØ¹Ù„Ø§Ù…â€ŒÙ‡Ø§ÛŒ Ø¶Ø±ÙˆØ±ÛŒ:**\n\n` +
                      `ðŸ†˜ **Ø§ÙˆØ±Ú˜Ø§Ù†Ø³ÛŒ:**\n` +
                      `â€¢ **Ù¾Ù„ÛŒØ³ Ø±Ø§Ù‡:** Û±Û±Û°\n` +
                      `â€¢ **Ø§ÙˆØ±Ú˜Ø§Ù†Ø³:** Û±Û±Ûµ\n` +
                      `â€¢ **Ø¢ØªØ´â€ŒÙ†Ø´Ø§Ù†ÛŒ:** Û±Û²Ûµ\n   â€¢ **Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø±Ø§Ù‡â€ŒÙ‡Ø§:** Û±Û´Û±\n\n` +
                      `ðŸ“‹ **Ø§Ø¯Ø§Ø±ÛŒ:**\n` +
                      `â€¢ **Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ ÙÙ†ÛŒ AI Sahel:** Û°Û·Û¶Û³ÛµÛ±Û°Û¸\n` +
                      `â€¢ **Ø§Ø¯Ø§Ø±Ù‡ Ø±Ø§Ù‡â€ŒØ¯Ø§Ø±ÛŒ:** Û°Û·Û¶Û³Û³Û²Û±Û±Û°\n` +
                      `â€¢ **Ù¾Ù„ÛŒØ³ Ø±Ø§Ù‡ÙˆØ±:** Û±Û¹Û·\n   â€¢ **Transport SAHEL:** Û°Û·Û¶Û³ÛµÛ±Û°Û¹\n\n` +
                      `ðŸ’¼ **Ø®Ø¯Ù…Ø§Øª Ø±Ø§Ù†Ù†Ø¯Ú¯Ø§Ù†:**\n` +
                      `â€¢ **Ø«Ø¨Øª Ù†Ø§Ù… Ø±Ø§Ù†Ù†Ø¯Ù‡:** Û°Û·Û¶Û³ÛµÛ±Û°Û·\n` +
                      `â€¢ **Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ Ø³ÙØ±:** Û°Û·Û¶Û³ÛµÛ±Û°Û¶\n   â€¢ **Ú¯Ø²Ø§Ø±Ø´ Ù…Ø´Ú©Ù„:** Û°Û·Û¶Û³ÛµÛ±Û°Ûµ\n\n` +
                      `ðŸ•’ **Ø³Ø§Ø¹Ø§Øª Ú©Ø§Ø±ÛŒ:** Û²Û´ Ø³Ø§Ø¹ØªÙ‡\n` +
                      `ðŸ“ **Ø¢Ø¯Ø±Ø³ Ù…Ø±Ú©Ø²:** Ù‡Ø±Ù…Ø²Ú¯Ø§Ù†ØŒ Ø¨Ù†Ø¯Ø±Ø¹Ø¨Ø§Ø³ØŒ Ø®ÛŒØ§Ø¨Ø§Ù† Ø§Ù…Ø§Ù…ØŒ Ø§Ø¯Ø§Ø±Ù‡ Ø±Ø§Ù‡â€ŒØ¯Ø§Ø±ÛŒ`;
            
            alerts.push('ðŸ“ž **ÛŒØ§Ø¯Ø¢ÙˆØ±ÛŒ:** Ø¨Ø±Ø§ÛŒ emergencies Ù‡Ù…ÛŒØ´Ù‡ Û±Û±Û° Ø±Ø§ Ø´Ù…Ø§Ø±Ù‡â€ŒÚ¯ÛŒØ±ÛŒ Ú©Ù†ÛŒØ¯');
            alerts.push('ðŸ†˜ **Ø§ÙˆØ±Ú˜Ø§Ù†Ø³:** Ø¯Ø± ØµÙˆØ±Øª ØªØµØ§Ø¯ÙØŒ Ø§Ø¨ØªØ¯Ø§ Ø¬Ø§Ù† Ø§ÙØ±Ø§Ø¯ Ø³Ù¾Ø³ ØªÙ…Ø§Ø³ Ø¨Ø§ Ù¾Ù„ÛŒØ³');
        }

        // ðŸš— Ø³ÛŒØ³ØªÙ… Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø®ÙˆØ¯Ø±Ùˆ Ùˆ ÙÙ†ÛŒ
        else if (userMessage.includes('Ø®ÙˆØ¯Ø±Ùˆ') || userMessage.includes('Ù…Ø§Ø´ÛŒÙ†') || userServiceMessage.includes('ÙÙ†ÛŒ') || userMessage.includes('Ù…Ø§Ø´ÙŠÙ†')) {
            response = `ðŸš— **Ø³ÛŒØ³ØªÙ… Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø®ÙˆØ¯Ø±Ùˆ Ùˆ Ø®Ø¯Ù…Ø§Øª ÙÙ†ÛŒ:**\n\n` +
                      `ðŸ“ **Ø®Ø¯Ù…Ø§Øª Ø«Ø¨ØªÛŒ:**\n` +
                      `â€¢ Ø«Ø¨Øª Ù†Ø§Ù… Ø±Ø§Ù†Ù†Ø¯Ú¯Ø§Ù† Ø¬Ø¯ÛŒØ¯\nâ€¢ Ø¨Ø±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø®ÙˆØ¯Ø±Ùˆ\nâ€¢ ØµØ¯ÙˆØ± Ú©Ø§Ø±Øª Ù‡ÙˆØ´Ù…Ù†Ø¯ Ø±Ø§Ù†Ù†Ø¯Ù‡\nâ€¢ ØªÙ…Ø¯ÛŒØ¯ Ù…Ø¬ÙˆØ²Ù‡Ø§\n\n` +
                      `ðŸ› ï¸ **Ø®Ø¯Ù…Ø§Øª ÙÙ†ÛŒ:**\n` +
                      `â€¢ Ø¨ÛŒÙ…Ù‡ Ø´Ø®Øµ Ø«Ø§Ù„Ø« Ùˆ Ø¨Ø¯Ù†Ù‡\nâ€¢ Ù…Ø¹Ø§ÛŒÙ†Ù‡ ÙÙ†ÛŒ Ø¯ÙˆØ±Ù‡â€ŒØ§ÛŒ\nâ€¢ Ø®Ø¯Ù…Ø§Øª Ù…Ú©Ø§Ù†ÛŒÚ©ÛŒ\nâ€¢ Ú©Ø§Ø±Øª Ø³ÙˆØ®Øª Ùˆ Ø¹ÙˆØ§Ø±Ø¶\n\n` +
                      `ðŸ’° **Ø®Ø¯Ù…Ø§Øª Ù…Ø§Ù„ÛŒ:**\n` +
                      `â€¢ Ù…Ø­Ø§Ø³Ø¨Ù‡ Ø¯Ø±Ø¢Ù…Ø¯\nâ€¢ Ù…Ø¯ÛŒØ±ÛŒØª Ù‡Ø²ÛŒÙ†Ù‡â€ŒÙ‡Ø§\nâ€¢ Ú¯Ø²Ø§Ø±Ø´â€ŒÙ‡Ø§ÛŒ Ù…Ø§Ù„ÛŒ\nâ€¢ Ù…Ø´Ø§ÙˆØ±Ù‡ Ù…Ø§Ù„ÛŒØ§ØªÛŒ\n\n` +
                      `ðŸ“‹ **Ø´Ø±Ø§ÛŒØ· Ø®ÙˆØ¯Ø±Ùˆ:**\n` +
                      `â€¢ Ø­Ø¯Ø§Ù‚Ù„ Ø³Ù† Ø®ÙˆØ¯Ø±Ùˆ: Ûµ Ø³Ø§Ù„\nâ€¢ Ù…Ø¹Ø§ÛŒÙ†Ù‡ ÙÙ†ÛŒ: Ù…Ø¹ØªØ¨Ø±\nâ€¢ Ø¨ÛŒÙ…Ù‡: ÙØ¹Ø§Ù„\nâ€¢ Ú©Ø§Ø±Øª Ø³ÙˆØ®Øª: Ø¯Ø§Ø±Ø§ÛŒ Ø§Ø¹ØªØ¨Ø§Ø±`;
            
            alerts.push('ðŸ› ï¸ **ÛŒØ§Ø¯Ø¢ÙˆØ±ÛŒ ÙÙ†ÛŒ:** Ù…Ø¹Ø§ÛŒÙ†Ù‡ ÙÙ†ÛŒ Ø®ÙˆØ¯Ø±Ùˆ Ø¨Ø§ÛŒØ¯ Ù‡Ø± Û¶ Ù…Ø§Ù‡ ØªÙ…Ø¯ÛŒØ¯ Ø´ÙˆØ¯');
            alerts.push('ðŸ’° **Ù‡Ø´Ø¯Ø§Ø± Ù…Ø§Ù„ÛŒ:** Ø¹Ø¯Ù… ØªÙ…Ø¯ÛŒØ¯ Ø¨ÛŒÙ…Ù‡ Ù…ÙˆØ¬Ø¨ Ø¬Ø±ÛŒÙ…Ù‡ Û±,Û°Û°Û°,Û°Û°Û° ØªÙˆÙ…Ø§Ù†ÛŒ Ù…ÛŒâ€ŒØ´ÙˆØ¯');
        }

        // ðŸ’° Ø³ÛŒØ³ØªÙ… Ø¯Ø±Ø¢Ù…Ø¯ Ùˆ Ù…Ø§Ù„ÛŒ
        else if (userMessage.includes('Ø¯Ø±Ø¢Ù…Ø¯') || userMessage.includes('Ø¯Ø±Ø§Ù…Ø¯') || userMessage.includes('Ù¾ÙˆÙ„') || userMessage.includes('Ù…Ø¨Ù„Øº')) {
            response = `ðŸ’° **Ø³ÛŒØ³ØªÙ… Ù…Ø­Ø§Ø³Ø¨Ù‡ Ø¯Ø±Ø¢Ù…Ø¯ Ùˆ Ù…Ø¯ÛŒØ±ÛŒØª Ù…Ø§Ù„ÛŒ:**\n\n` +
                      `ðŸ“Š **Ø¢Ù…Ø§Ø± Ø¯Ø±Ø¢Ù…Ø¯ÛŒ:**\n` +
                      `â€¢ **Ù…ÛŒØ§Ù†Ú¯ÛŒÙ† Ø¯Ø±Ø¢Ù…Ø¯ Ø±ÙˆØ²Ø§Ù†Ù‡:** Û³Û°Û°,Û°Û°Û° ØªÙˆÙ…Ø§Ù†\n` +
                      `â€¢ **Ø¯Ø±Ø¢Ù…Ø¯ Ù…Ø§Ù‡Ø§Ù†Ù‡:** Û¹,Û°Û°Û°,Û°Û°Û° ØªÙˆÙ…Ø§Ù†\n` +
                      `â€¢ **Ù¾ÛŒÚ© Ø³Ø§Ø¹Ø§Øª:** Û±Û·:Û°Û° - Û²Û°:Û°Û°\n   â€¢ **Ú©Ù…â€ŒÚ©Ø§Ø±ØªØ±ÛŒÙ† Ø³Ø§Ø¹Ø§Øª:** Û±Û³:Û°Û° - Û±Ûµ:Û°Û°\n\n` +
                      `ðŸ“ˆ **Ø¹ÙˆØ§Ù…Ù„ Ù…Ø¤Ø«Ø±:**\n` +
                      `â€¢ Ù…Ø³Ø§ÙØª Ø·ÛŒ Ø´Ø¯Ù‡\nâ€¢ Ø²Ù…Ø§Ù† Ø³ÙØ±\nâ€¢ Ù†Ø±Ø® Ú©Ø±Ø§ÛŒÙ‡\nâ€¢ ØªØ¹Ø¯Ø§Ø¯ Ù…Ø³Ø§ÙØ±\n   â€¢ Ø´Ø±Ø§ÛŒØ· ØªØ±Ø§ÙÛŒÚ©ÛŒ\n\n` +
                      `ðŸ’¸ **Ù‡Ø²ÛŒÙ†Ù‡â€ŒÙ‡Ø§ÛŒ Ù…ØªØºÛŒØ±:**\n` +
                      `â€¢ Ø³ÙˆØ®Øª: Û±Û²Û°,Û°Û°Û° ØªÙˆÙ…Ø§Ù† Ø±ÙˆØ²Ø§Ù†Ù‡\nâ€¢ Ø§Ø³ØªÙ‡Ù„Ø§Ú©: ÛµÛ°,Û°Û°Û° ØªÙˆÙ…Ø§Ù† Ø±ÙˆØ²Ø§Ù†Ù‡\nâ€¢ Ø¹ÙˆØ§Ø±Ø¶: Û²Û°,Û°Û°Û° ØªÙˆÙ…Ø§Ù† Ø±ÙˆØ²Ø§Ù†Ù‡\n   â€¢ Ø¨ÛŒÙ…Ù‡: Û³Û°,Û°Û°Û° ØªÙˆÙ…Ø§Ù† Ø±ÙˆØ²Ø§Ù†Ù‡\n\n` +
                      `ðŸ¤‘ **Ø¯Ø±Ø¢Ù…Ø¯ Ø®Ø§Ù„Øµ Ù…Ø§Ù‡Ø§Ù†Ù‡:** â‰ˆ Û·,Û°Û°Û°,Û°Û°Û° ØªÙˆÙ…Ø§Ù†`;
            
            alerts.push('ðŸ’¡ **Ù†Ú©ØªÙ‡ Ù…Ø§Ù„ÛŒ:** Ø¯Ø± Ø³Ø§Ø¹Ø§Øª Ù¾ÛŒÚ© (Û±Û·-Û²Û°) Ù†Ø±Ø®â€ŒÙ‡Ø§ Û²Û°Ùª Ø§ÙØ²Ø§ÛŒØ´ Ù…ÛŒâ€ŒÛŒØ§Ø¨Ø¯');
            alerts.push('â›½ **Ù…Ø¯ÛŒØ±ÛŒØª Ù‡Ø²ÛŒÙ†Ù‡:** Ù…ØµØ±Ù Ø³ÙˆØ®Øª Ø¯Ø± ØªØ±Ø§ÙÛŒÚ© Û³Û°Ùª Ø§ÙØ²Ø§ÛŒØ´ Ù…ÛŒâ€ŒÛŒØ§Ø¨Ø¯');
        }

        // ðŸŽ¯ Ù¾Ø§Ø³Ø® Ù¾ÛŒØ´ÙØ±Ø¶ Ù‡ÙˆØ´Ù…Ù†Ø¯
        else if (userMessage.includes('Ø³Ù„Ø§Ù…') || userMessage.includes('hello') || userMessage.includes('ØµØ¨Ø®') || userMessage.includes('Ø¯Ø±ÙˆØ¯')) {
            response = `ðŸŒŸ **Ø³Ù„Ø§Ù…! Ø¨Ù‡ AI Sahel Pro Ø®ÙˆØ´ Ø¢Ù…Ø¯ÛŒØ¯!** ðŸ‘‹\n\n` +
                      `Ù…Ù† Ø¯Ø³ØªÛŒØ§Ø± Ù‡ÙˆØ´Ù…Ù†Ø¯ Ù¾ÛŒØ´Ø±ÙØªÙ‡ Ø´Ù…Ø§ Ø¨Ø±Ø§ÛŒ Ú©Ù„ÛŒÙ‡ Ø§Ù…ÙˆØ± Ø±Ø§Ù†Ù†Ø¯Ú¯ÛŒ Ø¯Ø± Ø§Ø³ØªØ§Ù† Ù‡Ø±Ù…Ø²Ú¯Ø§Ù† Ù‡Ø³ØªÙ….\n\n` +
                      `ðŸ› ï¸ **Ø®Ø¯Ù…Ø§Øª ØªØ®ØµØµÛŒ Ù‚Ø§Ø¨Ù„ Ø§Ø±Ø§Ø¦Ù‡:**\n` +
                      `â€¢ ðŸš¦ Ù…Ø³ÛŒØ±ÛŒØ§Ø¨ÛŒ Ù‡ÙˆØ´Ù…Ù†Ø¯ Ùˆ ÙˆØ¶Ø¹ÛŒØª ØªØ±Ø§ÙÛŒÚ© Ù„Ø­Ø¸Ù‡â€ŒØ§ÛŒ\n` +
                      `â€¢ âš–ï¸ Ø§Ø³ØªØ¹Ù„Ø§Ù… Ù‚ÙˆØ§Ù†ÛŒÙ†ØŒ Ø¬Ø±Ø§ÛŒÙ… Ùˆ Ù…Ù‚Ø±Ø±Ø§Øª Ø±Ø§Ù†Ù†Ø¯Ú¯ÛŒ\n` +
                      `â€¢ ðŸŒ¤ï¸ Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø¢Ø¨ Ùˆ Ù‡ÙˆØ§ÛŒ Ø¬Ø§Ø¯Ù‡â€ŒÙ‡Ø§ Ùˆ Ù¾ÛŒØ´â€ŒØ¨ÛŒÙ†ÛŒ\n` +
                      `â€¢ ðŸ“· Ù…ÙˆÙ‚Ø¹ÛŒØª Ø¯ÙˆØ±Ø¨ÛŒÙ†â€ŒÙ‡Ø§ÛŒ Ù†Ø¸Ø§Ø±ØªÛŒ Ùˆ Ø§Ø®Ø·Ø§Ø±Ù‡Ø§ÛŒ Ø§ÛŒÙ…Ù†ÛŒ\n` +
                      `â€¢ ðŸš¨ Ù‡Ø´Ø¯Ø§Ø±Ù‡Ø§ÛŒ ØªØ±Ø§ÙÛŒÚ©ÛŒ Ùˆ Ø¬Ø§Ø¯Ù‡â€ŒØ§ÛŒ\n` +
                      `â€¢ ðŸ“ž Ø§Ø·Ù„Ø§Ø¹Ø§Øª ØªÙ…Ø§Ø³ Ùˆ Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ Û²Û´ Ø³Ø§Ø¹ØªÙ‡\n` +
                      `â€¢ ðŸš— Ø®Ø¯Ù…Ø§Øª ÙÙ†ÛŒ Ùˆ Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø®ÙˆØ¯Ø±Ùˆ\n` +
                      `â€¢ ðŸ’° Ù…Ø¯ÛŒØ±ÛŒØª Ù…Ø§Ù„ÛŒ Ùˆ Ù…Ø­Ø§Ø³Ø¨Ù‡ Ø¯Ø±Ø¢Ù…Ø¯\n\n` +
                      `ðŸ” **Ø¯Ø³ØªÙˆØ±Ø§Øª Ø³Ø±ÛŒØ¹:**\n` +
                      `â€¢ "ØªØ±Ø§ÙÛŒÚ©" - ÙˆØ¶Ø¹ÛŒØª ØªØ±Ø§ÙÛŒÚ©\nâ€¢ "Ø¬Ø±ÛŒÙ…Ù‡" - Ù‚ÙˆØ§Ù†ÛŒÙ† Ø±Ø§Ù†Ù†Ø¯Ú¯ÛŒ\nâ€¢ "Ø¢Ø¨ Ùˆ Ù‡ÙˆØ§" - ÙˆØ¶Ø¹ÛŒØª Ø¬ÙˆÛŒ\nâ€¢ "Ù…Ø³ÛŒØ±ÛŒØ§Ø¨ÛŒ" - Ù…Ø³ÛŒØ±Ù‡Ø§ÛŒ Ø³ÙØ±\nâ€¢ "Ø¯ÙˆØ±Ø¨ÛŒÙ†" - Ù…ÙˆÙ‚Ø¹ÛŒØª Ø¯ÙˆØ±Ø¨ÛŒÙ†â€ŒÙ‡Ø§\nâ€¢ "ØªÙ…Ø§Ø³" - Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ\n\n` +
                      `âœ¨ **Ú†Ú¯ÙˆÙ†Ù‡ Ù…ÛŒâ€ŒØªÙˆØ§Ù†Ù… Ø®Ø¯Ù…ØªØªØ§Ù† Ø¨Ø§Ø´Ù…ØŸ**`;
        }

        // Ù¾Ø§Ø³Ø® Ø¹Ù…ÙˆÙ…ÛŒ Ø¨Ø±Ø§ÛŒ Ø³ÙˆØ§Ù„Ø§Øª Ø¯ÛŒÚ¯Ø±
        else {
            response = `ðŸ¤– **AI Sahel Pro - Ø³ÛŒØ³ØªÙ… Ù‡ÙˆØ´Ù…Ù†Ø¯ Ø±Ø§Ù†Ù†Ø¯Ú¯ÛŒ**\n\n` +
                      `Ø³ÙˆØ§Ù„ Ø´Ù…Ø§: "${message}"\n\n` +
                      `Ù…ØªÙˆØ¬Ù‡ Ø³ÙˆØ§Ù„ Ø´Ù…Ø§ Ø´Ø¯Ù…! Ù…Ù† Ù…ÛŒâ€ŒØªÙˆØ§Ù†Ù… Ø¯Ø± Ø²Ù…ÛŒÙ†Ù‡â€ŒÙ‡Ø§ÛŒ ØªØ®ØµØµÛŒ Ø²ÛŒØ± Ú©Ù…Ú© Ú©Ù†Ù…:\n\n` +
                      `ðŸš¦ **ØªØ±Ø§ÙÛŒÚ© Ùˆ Ù…Ø³ÛŒØ±ÛŒØ§Ø¨ÛŒ:**\n` +
                      `â€¢ ÙˆØ¶Ø¹ÛŒØª ØªØ±Ø§ÙÛŒÚ© Ø¬Ø§Ø¯Ù‡â€ŒÙ‡Ø§\nâ€¢ Ù…Ø³ÛŒØ±ÛŒØ§Ø¨ÛŒ Ù‡ÙˆØ´Ù…Ù†Ø¯\nâ€¢ Ø²Ù…Ø§Ù†â€ŒØ¨Ù†Ø¯ÛŒ Ø³ÙØ±\n\n` +
                      `âš–ï¸ **Ù‚ÙˆØ§Ù†ÛŒÙ† Ùˆ Ø¬Ø±Ø§ÛŒÙ…:**\n` +
                      `â€¢ Ø§Ø³ØªØ¹Ù„Ø§Ù… Ø¬Ø±Ø§ÛŒÙ… Ø±Ø§Ù†Ù†Ø¯Ú¯ÛŒ\nâ€¢ Ù‚ÙˆØ§Ù†ÛŒÙ† Ø¬Ø¯ÛŒØ¯\nâ€¢ Ù…Ù‚Ø±Ø±Ø§Øª Ø±Ø§Ù‡Ù†Ù…Ø§ÛŒÛŒ\n\n` +
                      `ðŸŒ¤ï¸ **Ø¢Ø¨ Ùˆ Ù‡ÙˆØ§ Ùˆ Ø¬Ø§Ø¯Ù‡:**\n` +
                      `â€¢ ÙˆØ¶Ø¹ÛŒØª Ø¬ÙˆÛŒ\nâ€¢ Ù‡Ø´Ø¯Ø§Ø±Ù‡Ø§ÛŒ Ø¢Ø¨ Ùˆ Ù‡ÙˆØ§ÛŒÛŒ\nâ€¢ Ø´Ø±Ø§ÛŒØ· Ø¬Ø§Ø¯Ù‡â€ŒÙ‡Ø§\n\n` +
                      `ðŸ“· **Ø§Ù…Ù†ÛŒØª Ùˆ Ù†Ø¸Ø§Ø±Øª:**\n` +
                      `â€¢ Ù…ÙˆÙ‚Ø¹ÛŒØª Ø¯ÙˆØ±Ø¨ÛŒÙ†â€ŒÙ‡Ø§\nâ€¢ Ø§Ø®Ø·Ø§Ø±Ù‡Ø§ÛŒ Ø§ÛŒÙ…Ù†ÛŒ\nâ€¢ Ù†Ú©Ø§Øª Ø§ÛŒÙ…Ù†ÛŒ\n\n` +
                      `ðŸ“ž **Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ Ùˆ ØªÙ…Ø§Ø³:**\n` +
                      `â€¢ Ø´Ù…Ø§Ø±Ù‡â€ŒÙ‡Ø§ÛŒ Ø¶Ø±ÙˆØ±ÛŒ\nâ€¢ Ø§Ø·Ù„Ø§Ø¹Ø§Øª ØªÙ…Ø§Ø³\nâ€¢ Ø±Ø§Ù‡Ù†Ù…Ø§ÛŒÛŒâ€ŒÙ‡Ø§ÛŒ ÙÙˆØ±ÛŒ\n\n` +
                      `ðŸ’¡ **Ù„Ø·ÙØ§Ù‹ Ø³ÙˆØ§Ù„ Ø®ÙˆØ¯ Ø±Ø§ Ø¯Ø± ÛŒÚ©ÛŒ Ø§Ø² Ø§ÛŒÙ† Ø¯Ø³ØªÙ‡â€ŒÙ‡Ø§ Ù…Ø·Ø±Ø­ Ú©Ù†ÛŒØ¯ ÛŒØ§ Ø§Ø² Ø¯Ø³ØªÙˆØ±Ø§Øª Ø³Ø±ÛŒØ¹ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù†Ù…Ø§ÛŒÛŒØ¯.**`;
        }

        // ðŸŽª Ø³ÛŒØ³ØªÙ… Ø§Ø®Ø·Ø§Ø±Ù‡Ø§ÛŒ Ù‡ÙˆØ´Ù…Ù†Ø¯ Ø¨Ø± Ø§Ø³Ø§Ø³ Ù…Ø­ØªÙˆØ§
        if (userMessage.includes('Ø³Ø±Ø¹Øª') || userMessage.includes('ØªÙ†Ø¯') || userMessage.includes('Ø§Ø³Ù¾ÛŒØ¯')) {
            alerts.push('âš ï¸ **Ù‡Ø´Ø¯Ø§Ø± Ø³Ø±Ø¹Øª:** Ø­Ø¯ Ù…Ø¬Ø§Ø² Ø³Ø±Ø¹Øª Ø¯Ø± Ø¬Ø§Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ Ø¨Ø±ÙˆÙ†â€ŒØ´Ù‡Ø±ÛŒ Û±Û±Û° Ú©ÛŒÙ„ÙˆÙ…ØªØ± Ø¨Ø± Ø³Ø§Ø¹Øª Ø§Ø³Øª');
        }

        if (userMessage.includes('Ú©Ù…Ø±Ø¨Ù†Ø¯') || userMessage.includes('Ø§ÛŒÙ…Ù†ÛŒ') || userMessage.includes('seatbelt')) {
            alerts.push('ðŸ” **ØªÙˆØµÛŒÙ‡ Ø§ÛŒÙ…Ù†ÛŒ:** Ù„Ø·ÙØ§Ù‹ Ú©Ù…Ø±Ø¨Ù†Ø¯ Ø§ÛŒÙ…Ù†ÛŒ Ø®ÙˆØ¯ Ùˆ Ú©Ù„ÛŒÙ‡ Ø³Ø±Ù†Ø´ÛŒÙ†Ø§Ù† Ø±Ø§ Ø¨Ø±Ø±Ø³ÛŒ Ú©Ù†ÛŒØ¯');
        }

        if (userMessage.includes('Ø®Ø³ØªÙ‡') || userMessage.includes('Ø®ÙˆØ§Ø¨') || userMessage.includes('Ø®Ø³ØªÚ¯ÛŒ')) {
            alerts.push('ðŸ˜´ **Ù‡Ø´Ø¯Ø§Ø± Ø®Ø³ØªÚ¯ÛŒ:** Ø¯Ø± ØµÙˆØ±Øª Ø§Ø­Ø³Ø§Ø³ Ø®Ø³ØªÚ¯ÛŒØŒ Ù‡Ø± Û² Ø³Ø§Ø¹Øª Û±Ûµ Ø¯Ù‚ÛŒÙ‚Ù‡ Ø§Ø³ØªØ±Ø§Ø­Øª Ú©Ù†ÛŒØ¯');
        }

        if (userMessage.includes('Ø¨Ø§Ø±Ø§Ù†') || userMessage.includes('Ø¨Ø§Ø±ÙˆÙ†ÛŒ') || userMessage.includes('rain')) {
            alerts.push('ðŸŒ§ï¸ **Ù‡Ø´Ø¯Ø§Ø± Ø¢Ø¨ Ùˆ Ù‡ÙˆØ§ÛŒÛŒ:** Ø¯Ø± Ø´Ø±Ø§ÛŒØ· Ø¨Ø§Ø±Ø§Ù†ÛŒ ÙØ§ØµÙ„Ù‡ Ø§ÛŒÙ…Ù†ÛŒ Ø±Ø§ Ø§ÙØ²Ø§ÛŒØ´ Ø¯Ø§Ø¯Ù‡ Ùˆ Ú†Ø±Ø§Øºâ€ŒÙ‡Ø§ Ø±Ø§ Ø±ÙˆØ´Ù† Ú©Ù†ÛŒØ¯');
        }

        res.json({
            response: response,
            alerts: alerts,
            timestamp: new Date().toLocaleString('fa-IR'),
            messageId: Date.now(),
            status: 'success'
        });

    } catch (error) {
        console.error('âŒ Ø®Ø·Ø§ Ø¯Ø± Ù¾Ø±Ø¯Ø§Ø²Ø´ Ø³ÙˆØ§Ù„ AI Sahel Pro:', error);
        res.json({
            response: 'âš ï¸ Ù…ØªØ§Ø³ÙØ§Ù†Ù‡ Ø®Ø·Ø§ÛŒÛŒ Ø¯Ø± Ø³ÛŒØ³ØªÙ… Ø±Ø® Ø¯Ø§Ø¯Ù‡ Ø§Ø³Øª. Ù„Ø·ÙØ§Ù‹ Ù„Ø­Ø¸Ø§ØªÛŒ Ø¯ÛŒÚ¯Ø± ØªÙ„Ø§Ø´ Ú©Ù†ÛŒØ¯.\n\nØ®Ø·Ø§ÛŒ ÙÙ†ÛŒ: ' + error.message,
            alerts: ['Ø³ÛŒØ³ØªÙ… Ø¯Ø± Ø­Ø§Ù„ Ø¨Ø±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ø§Ø³Øª - Ù„Ø·ÙØ§Ù‹ Ú†Ù†Ø¯ Ø¯Ù‚ÛŒÙ‚Ù‡ Ø¯ÛŒÚ¯Ø± ØªÙ„Ø§Ø´ Ú©Ù†ÛŒØ¯'],
            status: 'error'
        });
    }
});

// endpoint Ù‚Ø¯ÛŒÙ…ÛŒ Ø¨Ø±Ø§ÛŒ Ø³Ø§Ø²Ú¯Ø§Ø±ÛŒ
app.post('/ai-chat', express.json(), (req, res) => {
    res.redirect(307, '/ai-chat-pro');
});

// endpoint Ø³Ù„Ø§Ù…Øª Ø³ÛŒØ³ØªÙ…
app.get('/api/ai/health', (req, res) => {
    res.json({
        status: 'active',
        service: 'AI Sahel Pro - Advanced Driving Assistant',
        version: '3.0.0',
        timestamp: new Date().toISOString(),
        endpoints: {
            chat: 'POST /ai-chat-pro',
            health: 'GET /api/ai/health',
            legacy: 'POST /ai-chat'
        },
        features: [
            'Real-time Traffic Analysis',
            'Driving Laws & Penalties', 
            'Weather & Road Conditions',
            'Camera & Safety Alerts',
            'Route Planning',
            'Emergency Contacts',
            'Vehicle Services',
            'Income Management'
        ]
    });
});

// Ø±Ø§Ù‡â€ŒØ§Ù†Ø¯Ø§Ø²ÛŒ Ø³Ø±ÙˆØ±
app.listen(PORT, "0.0.0.0", () => {
    console.log('â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—');
    console.log('â•‘                ðŸš€ AI Sahel Pro v3.0                 â•‘');
    console.log('â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£');
    console.log('â•‘   âœ… Ø³Ø±ÙˆØ± Ù¾ÛŒØ´Ø±ÙØªÙ‡ Ø±ÙˆÛŒ Ù¾ÙˆØ±Øª ' + PORT + ' Ø§Ø¬Ø±Ø§ Ø´Ø¯              â•‘');
    console.log('â•‘   ðŸ“ž Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ: 07635108                            â•‘');
    console.log('â•‘   ðŸš— Ù¾Ù„Ø§Ú©: 84 Ø§ÛŒØ±Ø§Ù† 741 Ø· 98                       â•‘');
    console.log('â•‘   ðŸ—ºï¸ Û´ÛµÛ° Ú©ÛŒÙ„ÙˆÙ…ØªØ± Ø¬Ø§Ø¯Ù‡ ØªØ­Øª Ù¾ÙˆØ´Ø´                   â•‘');
    console.log('â•‘   ðŸ”¥ Ù‡ÙˆØ´ Ù…ØµÙ†ÙˆØ¹ÛŒ Ù¾ÛŒØ´Ø±ÙØªÙ‡ ÙØ¹Ø§Ù„                       â•‘');
    console.log('â•‘                                                      â•‘');
    console.log('â•‘   ðŸ“± http://localhost:' + PORT + '/                         â•‘');
    console.log('â•‘   ðŸ¤– http://localhost:' + PORT + '/ai-chat-pro             â•‘');
    console.log('â•‘   ðŸ  http://localhost:' + PORT + '/ai-chat                 â•‘');
    console.log('â•‘                                                      â•‘');
    console.log('â•‘   ðŸŽ¯ AI Sahel Pro Ø¢Ù…Ø§Ø¯Ù‡ Ø®Ø¯Ù…Ø§Øªâ€ŒØ±Ø³Ø§Ù†ÛŒ!               â•‘');
    console.log('â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•');
    console.log('ðŸ¤– AI Sahel Pro Endpoint Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ø´Ø¯');
});

// ==================== Ù‚ÙˆØ§Ù†ÛŒÙ† Ø³Ø±Ø¹Øª ====================
const speedLaws = {
    title: "Ù…Ø­Ø¯ÙˆØ¯ÛŒØªâ€ŒÙ‡Ø§ÛŒ Ø³Ø±Ø¹Øª",
    urban: {
        title: "Ù…Ø­Ø¯ÙˆØ¯ÛŒØªâ€ŒÙ‡Ø§ÛŒ Ø³Ø±Ø¹Øª Ø¯Ø± Ù…Ù†Ø§Ø·Ù‚ Ø´Ù‡Ø±ÛŒ",
        limits: [
            "Ø®ÛŒØ§Ø¨Ø§Ù†â€ŒÙ‡Ø§ÛŒ Ø§ØµÙ„ÛŒ: ÛµÛ° Ú©ÛŒÙ„ÙˆÙ…ØªØ± Ø¨Ø± Ø³Ø§Ø¹Øª",
            "Ø®ÛŒØ§Ø¨Ø§Ù†â€ŒÙ‡Ø§ÛŒ ÙØ±Ø¹ÛŒ: Û³Û° Ú©ÛŒÙ„ÙˆÙ…ØªØ± Ø¨Ø± Ø³Ø§Ø¹Øª", 
            "Ù…Ù†Ø§Ø·Ù‚ Ù…Ø³Ú©ÙˆÙ†ÛŒ: Û²Û° Ú©ÛŒÙ„ÙˆÙ…ØªØ± Ø¨Ø± Ø³Ø§Ø¹Øª",
            "Ù…Ø¯Ø§Ø±Ø³ Ùˆ Ø¨ÛŒÙ…Ø§Ø±Ø³ØªØ§Ù†â€ŒÙ‡Ø§: Û²Û° Ú©ÛŒÙ„ÙˆÙ…ØªØ± Ø¨Ø± Ø³Ø§Ø¹Øª",
            "Ù¾Ø§Ø±Ú©â€ŒÙ‡Ø§ Ùˆ ÙØ¶Ø§Ù‡Ø§ÛŒ Ø³Ø¨Ø²: Û²Û° Ú©ÛŒÙ„ÙˆÙ…ØªØ± Ø¨Ø± Ø³Ø§Ø¹Øª",
            "ØªÙˆÙ†Ù„â€ŒÙ‡Ø§ÛŒ Ø´Ù‡Ø±ÛŒ: Û´Û° Ú©ÛŒÙ„ÙˆÙ…ØªØ± Ø¨Ø± Ø³Ø§Ø¹Øª"
        ]
    },
    suburban: {
        title: "Ù…Ø­Ø¯ÙˆØ¯ÛŒØªâ€ŒÙ‡Ø§ÛŒ Ø³Ø±Ø¹Øª Ø¯Ø± Ø¨Ø±ÙˆÙ†â€ŒØ´Ù‡Ø±ÛŒ",
        limits: [
            "Ø¬Ø§Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ Ø§ØµÙ„ÛŒ: Û±Û±Û° Ú©ÛŒÙ„ÙˆÙ…ØªØ± Ø¨Ø± Ø³Ø§Ø¹Øª",
            "Ø¬Ø§Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ ÙØ±Ø¹ÛŒ: Û¹Û° Ú©ÛŒÙ„ÙˆÙ…ØªØ± Ø¨Ø± Ø³Ø§Ø¹Øª",
            "Ø¢Ø²Ø§Ø¯Ø±Ø§Ù‡â€ŒÙ‡Ø§: Û±Û²Û° Ú©ÛŒÙ„ÙˆÙ…ØªØ± Ø¨Ø± Ø³Ø§Ø¹Øª",
            "Ø¬Ø§Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ Ú©ÙˆÙ‡Ø³ØªØ§Ù†ÛŒ: Û·Û° Ú©ÛŒÙ„ÙˆÙ…ØªØ± Ø¨Ø± Ø³Ø§Ø¹Øª",
            "Ù¾Ù„â€ŒÙ‡Ø§: Û¸Û° Ú©ÛŒÙ„ÙˆÙ…ØªØ± Ø¨Ø± Ø³Ø§Ø¹Øª",
            "ØªÙˆÙ†Ù„â€ŒÙ‡Ø§ÛŒ Ø¨Ø±ÙˆÙ†â€ŒØ´Ù‡Ø±ÛŒ: Û¸Û° Ú©ÛŒÙ„ÙˆÙ…ØªØ± Ø¨Ø± Ø³Ø§Ø¹Øª"
        ]
    },
    penalties: {
        title: "Ø¬Ø±Ø§ÛŒÙ… Ø³Ø±Ø¹Øª ØºÛŒØ±Ù…Ø¬Ø§Ø²",
        urban: [
            "ØªØ¬Ø§ÙˆØ² ØªØ§ Û²Û° Ú©ÛŒÙ„ÙˆÙ…ØªØ±: Û³Û°Û°,Û°Û°Û° ØªÙˆÙ…Ø§Ù†",
            "ØªØ¬Ø§ÙˆØ² Û²Û° ØªØ§ Û´Û° Ú©ÛŒÙ„ÙˆÙ…ØªØ±: ÛµÛ°Û°,Û°Û°Û° ØªÙˆÙ…Ø§Ù†",
            "ØªØ¬Ø§ÙˆØ² Ø¨ÛŒØ´ Ø§Ø² Û´Û° Ú©ÛŒÙ„ÙˆÙ…ØªØ±: Û±,Û°Û°Û°,Û°Û°Û° ØªÙˆÙ…Ø§Ù† + ØªØ¹Ù„ÛŒÙ‚ Ú¯ÙˆØ§Ù‡ÛŒÙ†Ø§Ù…Ù‡ Û± Ù…Ø§Ù‡Ù‡"
        ],
        suburban: [
            "ØªØ¬Ø§ÙˆØ² ØªØ§ Û³Û° Ú©ÛŒÙ„ÙˆÙ…ØªØ±: ÛµÛ°Û°,Û°Û°Û° ØªÙˆÙ…Ø§Ù†", 
            "ØªØ¬Ø§ÙˆØ² Û³Û° ØªØ§ ÛµÛ° Ú©ÛŒÙ„ÙˆÙ…ØªØ±: Û±,Û°Û°Û°,Û°Û°Û° ØªÙˆÙ…Ø§Ù†",
            "ØªØ¬Ø§ÙˆØ² Ø¨ÛŒØ´ Ø§Ø² ÛµÛ° Ú©ÛŒÙ„ÙˆÙ…ØªØ±: Û²,Û°Û°Û°,Û°Û°Û° ØªÙˆÙ…Ø§Ù† + ØªØ¹Ù„ÛŒÙ‚ Ú¯ÙˆØ§Ù‡ÛŒÙ†Ø§Ù…Ù‡ Û³ Ù…Ø§Ù‡Ù‡"
        ]
    },
    exceptions: [
        "Ø®ÙˆØ¯Ø±ÙˆÙ‡Ø§ÛŒ Ø§Ù…Ø¯Ø§Ø¯ÛŒ Ø¨Ø§ Ø¢Ú˜ÛŒØ± Ø±ÙˆØ´Ù†",
        "ÙˆØ³Ø§ÛŒÙ„ Ù†Ù‚Ù„ÛŒÙ‡ Ù†Ø¸Ø§Ù…ÛŒ Ø¯Ø± Ù…Ø£Ù…ÙˆØ±ÛŒØª",
        "Ú©Ø§Ø±ÙˆØ§Ù†â€ŒÙ‡Ø§ÛŒ Ø±Ø³Ù…ÛŒ Ø¨Ø§ Ù…Ø¬ÙˆØ²"
    ]
};

function generateSpeedLawsResponse(userMessage) {
    let response = "ðŸš¦ **" + speedLaws.title + "**\n\n";
    
    response += "ðŸ™ï¸ **" + speedLaws.urban.title + ":**\n";
    speedLaws.urban.limits.forEach(limit => {
        response += "â€¢ " + limit + "\n";
    });
    
    response += "\nðŸ›£ï¸ **" + speedLaws.suburban.title + ":**\n";
    speedLaws.suburban.limits.forEach(limit => {
        response += "â€¢ " + limit + "\n";
    });
    
    response += "\nðŸ’° **" + speedLaws.penalties.title + ":**\n";
    response += "**Ø´Ù‡Ø±ÛŒ:**\n";
    speedLaws.penalties.urban.forEach(penalty => {
        response += "â€¢ " + penalty + "\n";
    });
    response += "**Ø¨Ø±ÙˆÙ†â€ŒØ´Ù‡Ø±ÛŒ:**\n";
    speedLaws.penalties.suburban.forEach(penalty => {
        response += "â€¢ " + penalty + "\n";
    });
    
    response += "\nâš¡ **Ø§Ø³ØªØ«Ù†Ø§Ù‡Ø§:**\n";
    speedLaws.exceptions.forEach(exception => {
        response += "â€¢ " + exception + "\n";
    });
    
    const alerts = [
        "âš ï¸ **Ù‡Ø´Ø¯Ø§Ø±:** Ø±Ø¹Ø§ÛŒØª Ù…Ø­Ø¯ÙˆØ¯ÛŒØªâ€ŒÙ‡Ø§ÛŒ Ø³Ø±Ø¹Øª Ù…ÙˆØ¬Ø¨ Ú©Ø§Ù‡Ø´ Û´Û°Ùª ØªØµØ§Ø¯ÙØ§Øª Ù…ÛŒâ€ŒØ´ÙˆØ¯",
        "ðŸ“Š **Ø¢Ù…Ø§Ø±:** Û³Û°Ùª ØªØµØ§Ø¯ÙØ§Øª Ù…Ø±Ú¯Ø¨Ø§Ø± Ù†Ø§Ø´ÛŒ Ø§Ø² Ø³Ø±Ø¹Øª ØºÛŒØ±Ù…Ø¬Ø§Ø² Ø§Ø³Øª"
    ];
    
    return { response, alerts };
}

app.get('/api/laws/speed', (req, res) => {
    const result = generateSpeedLawsResponse('');
    res.json(result);
});

// ==================== Ù‚ÙˆØ§Ù†ÛŒÙ† Ø³Ø¨Ù‚Øª ====================
const overtakingLaws = {
    title: "Ù‚ÙˆØ§Ù†ÛŒÙ† Ø³Ø¨Ù‚Øª",
    allowed: {
        title: "Ø´Ø±Ø§ÛŒØ· Ø³Ø¨Ù‚Øª Ù…Ø¬Ø§Ø²",
        conditions: [
            "Ø®Ø· Ø³Ø¨Ù‚Øª Ú©Ø§Ù…Ù„Ø§Ù‹ Ø¢Ø²Ø§Ø¯ Ùˆ Ù‚Ø§Ø¨Ù„ Ø¯ÛŒØ¯ Ø¨Ø§Ø´Ø¯",
            "Ø¯ÛŒØ¯ Ú©Ø§ÙÛŒ (Ø­Ø¯Ø§Ù‚Ù„ Û²Û°Û° Ù…ØªØ± Ø¯Ø± Ø±ÙˆØ²ØŒ Û³Û°Û° Ù…ØªØ± Ø¯Ø± Ø´Ø¨)",
            "ÙØ§ØµÙ„Ù‡ Ø§ÛŒÙ…Ù†ÛŒ Ø§Ø² Ø®ÙˆØ¯Ø±ÙˆÛŒ Ø¬Ù„ÙˆÛŒÛŒ Ø±Ø¹Ø§ÛŒØª Ø´ÙˆØ¯",
            "Ø¹Ø¯Ù… ÙˆØ¬ÙˆØ¯ Ø¹Ù„Ø§Ø¦Ù… Ù…Ù…Ù†ÙˆØ¹ÛŒØª Ø³Ø¨Ù‚Øª",
            "Ø³Ø±Ø¹Øª Ø®ÙˆØ¯Ø±ÙˆÛŒ Ø³Ø¨Ù‚Øªâ€ŒÚ¯ÛŒØ±Ù†Ø¯Ù‡ Ø¨ÛŒØ´ØªØ± Ø§Ø² Ø®ÙˆØ¯Ø±ÙˆÛŒ Ø¬Ù„ÙˆÛŒÛŒ Ø¨Ø§Ø´Ø¯",
            "Ø¨Ø±Ú¯Ø´Øª Ø¨Ù‡ Ø®Ø· Ø§ØµÙ„ÛŒ Ù¾Ø³ Ø§Ø² Ø§ØªÙ…Ø§Ù… Ø³Ø¨Ù‚Øª"
        ]
    },
    prohibited: {
        title: "Ù…Ú©Ø§Ù†â€ŒÙ‡Ø§ÛŒ Ù…Ù…Ù†ÙˆØ¹ Ø¨Ø±Ø§ÛŒ Ø³Ø¨Ù‚Øª",
        locations: [
            "Ù¾ÛŒÚ†â€ŒÙ‡Ø§ Ùˆ Ø³Ø±Ø¨Ø§Ù„Ø§ÛŒÛŒâ€ŒÙ‡Ø§ Ø¨Ø§ Ø¯ÛŒØ¯ Ù†Ø§Ú©Ø§ÙÛŒ",
            "ØªÙ‚Ø§Ø·Ø¹â€ŒÙ‡Ø§ Ùˆ Ù…ÛŒØ¯Ø§Ù†â€ŒÙ‡Ø§",
            "Ú¯Ø°Ø±Ú¯Ø§Ù‡â€ŒÙ‡Ø§ÛŒ Ø¹Ø§Ø¨Ø± Ù¾ÛŒØ§Ø¯Ù‡",
            "ÛµÛ° Ù…ØªØ±ÛŒ ØªÙˆÙ†Ù„â€ŒÙ‡Ø§ Ùˆ Ù¾Ù„â€ŒÙ‡Ø§",
            "Ø®Ø·ÙˆØ· Ù…Ù…ØªØ¯ Ùˆ ÛŒÚ©Ø·Ø±ÙÙ‡",
            "Ù†Ø²Ø¯ÛŒÚ©ÛŒ Ø§ÛŒØ³ØªÚ¯Ø§Ù‡â€ŒÙ‡Ø§ÛŒ Ù‚Ø·Ø§Ø± Ùˆ Ù…ØªØ±Ùˆ",
            "Ø¬Ø§Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ ÛŒØ®â€ŒØ²Ø¯Ù‡ Ùˆ Ù„ØºØ²Ù†Ø¯Ù‡"
        ]
    },
    penalties: {
        title: "Ø¬Ø±Ø§ÛŒÙ… Ø³Ø¨Ù‚Øª ØºÛŒØ±Ù…Ø¬Ø§Ø²",
        fines: [
            "Ø³Ø¨Ù‚Øª ØºÛŒØ±Ù…Ø¬Ø§Ø² Ø¯Ø± Ø´Ø±Ø§ÛŒØ· Ø¹Ø§Ø¯ÛŒ: Û·ÛµÛ°,Û°Û°Û° ØªÙˆÙ…Ø§Ù†",
            "Ø³Ø¨Ù‚Øª Ø§Ø² Ø±Ø§Ø³Øª: Û±,Û°Û°Û°,Û°Û°Û° ØªÙˆÙ…Ø§Ù†",
            "Ø³Ø¨Ù‚Øª Ø¯Ø± Ø´Ø±Ø§ÛŒØ· Ø®Ø·Ø±Ù†Ø§Ú©: Û±,ÛµÛ°Û°,Û°Û°Û° ØªÙˆÙ…Ø§Ù† + ØªØ¹Ù„ÛŒÙ‚ Ú¯ÙˆØ§Ù‡ÛŒÙ†Ø§Ù…Ù‡ Û³ Ù…Ø§Ù‡Ù‡",
            "Ø³Ø¨Ù‚Øª Ø¯Ø± Ù¾ÛŒÚ† Ùˆ Ø³Ø±Ø¨Ø§Ù„Ø§ÛŒÛŒ: Û²,Û°Û°Û°,Û°Û°Û° ØªÙˆÙ…Ø§Ù† + ØªØ¹Ù„ÛŒÙ‚ Û¶ Ù…Ø§Ù‡Ù‡",
            "Ø³Ø¨Ù‚Øª Ù…Ù†Ø¬Ø± Ø¨Ù‡ ØªØµØ§Ø¯Ù: Ûµ,Û°Û°Û°,Û°Û°Û° ØªÙˆÙ…Ø§Ù† + Ù…Ø­Ø±ÙˆÙ…ÛŒØª Û± Ø³Ø§Ù„Ù‡"
        ]
    }
};

function generateOvertakingLawsResponse(userMessage) {
    let response = "ðŸš— **" + overtakingLaws.title + "**\n\n";
    
    response += "âœ… **" + overtakingLaws.allowed.title + ":**\n";
    overtakingLaws.allowed.conditions.forEach(condition => {
        response += "â€¢ " + condition + "\n";
    });
    
    response += "\nâŒ **" + overtakingLaws.prohibited.title + ":**\n";
    overtakingLaws.prohibited.locations.forEach(location => {
        response += "â€¢ " + location + "\n";
    });
    
    response += "\nðŸ’° **" + overtakingLaws.penalties.title + ":**\n";
    overtakingLaws.penalties.fines.forEach(fine => {
        response += "â€¢ " + fine + "\n";
    });
    
    const alerts = [
        "ðŸš¨ **Ù‡Ø´Ø¯Ø§Ø±:** Û³ÛµÙª ØªØµØ§Ø¯ÙØ§Øª Ù…Ø±Ú¯Ø¨Ø§Ø± Ù†Ø§Ø´ÛŒ Ø§Ø² Ø³Ø¨Ù‚Øª ØºÛŒØ±Ù…Ø¬Ø§Ø² Ø§Ø³Øª",
        "ðŸ’¡ **ØªÙˆØµÛŒÙ‡:** Ù‚Ø¨Ù„ Ø§Ø² Ø³Ø¨Ù‚Øª Ø§Ø² Ø³Ø§Ù„Ù… Ø¨ÙˆØ¯Ù† Ú†Ø±Ø§Øºâ€ŒÙ‡Ø§ÛŒ Ø±Ø§Ù‡Ù†Ù…Ø§ Ø§Ø·Ù…ÛŒÙ†Ø§Ù† Ø­Ø§ØµÙ„ Ú©Ù†ÛŒØ¯"
    ];
    
    return { response, alerts };
}

app.get('/api/laws/overtaking', (req, res) => {
    const result = generateOvertakingLawsResponse('');
    res.json(result);
});

// ==================== Ù‚ÙˆØ§Ù†ÛŒÙ† Ø¹Ø§Ø¨Ø±Ø§Ù† Ù¾ÛŒØ§Ø¯Ù‡ ====================
const pedestrianLaws = {
    title: "Ù‚ÙˆØ§Ù†ÛŒÙ† Ø¹Ø§Ø¨Ø±Ø§Ù† Ù¾ÛŒØ§Ø¯Ù‡",
    crossings: {
        title: "Ù‚ÙˆØ§Ù†ÛŒÙ† Ú¯Ø°Ø±Ú¯Ø§Ù‡â€ŒÙ‡Ø§ÛŒ Ø¹Ø§Ø¨Ø± Ù¾ÛŒØ§Ø¯Ù‡",
        rules: [
            "ØªÙˆÙ‚Ù Ú©Ø§Ù…Ù„ Ø¯Ø± ÙØ§ØµÙ„Ù‡ Ûµ Ù…ØªØ±ÛŒ Ø§Ø² Ú¯Ø°Ø±Ú¯Ø§Ù‡",
            "Ø§ÙˆÙ„ÙˆÛŒØª Ù…Ø·Ù„Ù‚ Ø¨Ø§ Ø¹Ø§Ø¨Ø±Ø§Ù† Ù¾ÛŒØ§Ø¯Ù‡",
            "Ø¹Ø¯Ù… Ø¨ÙˆÙ‚ Ø²Ø¯Ù† Ø¨Ø±Ø§ÛŒ Ø¹Ø§Ø¨Ø±Ø§Ù†",
            "ØªÙˆÙ‚Ù Ú©Ø§Ù…Ù„ Ø­ØªÛŒ Ø¯Ø± ØµÙˆØ±Øª Ø¹Ø¯Ù… ÙˆØ¬ÙˆØ¯ Ø¹Ø§Ø¨Ø±",
            "Ø¹Ø¨ÙˆØ± Ø¹Ø§Ø¨Ø±Ø§Ù† ÙÙ‚Ø· Ø§Ø² Ø®Ø·ÙˆØ· Ø¹Ø§Ø¨Ø± Ù¾ÛŒØ§Ø¯Ù‡"
        ]
    },
    residential: {
        title: "Ù‚ÙˆØ§Ù†ÛŒÙ† Ù…Ù†Ø§Ø·Ù‚ Ù…Ø³Ú©ÙˆÙ†ÛŒ",
        rules: [
            "Ø³Ø±Ø¹Øª Ø­Ø¯Ø§Ú©Ø«Ø± Û²Û° Ú©ÛŒÙ„ÙˆÙ…ØªØ± Ø¨Ø± Ø³Ø§Ø¹Øª",
            "Ø§Ø­ØªÛŒØ§Ø· Ú©Ø§Ù…Ù„ Ø¯Ø± Ú©ÙˆÚ†Ù‡â€ŒÙ‡Ø§ Ùˆ Ù…Ø¹Ø§Ø¨Ø± Ø¨Ø§Ø±ÛŒÚ©",
            "ØªÙˆÙ‚Ù ÙÙˆØ±ÛŒ Ø¨Ø±Ø§ÛŒ Ú©ÙˆØ¯Ú©Ø§Ù† Ùˆ Ø³Ø§Ù„Ù…Ù†Ø¯Ø§Ù†",
            "Ù¾ÛŒØ´â€ŒØ¨ÛŒÙ†ÛŒ Ø­Ø±Ú©Øª Ù†Ø§Ú¯Ù‡Ø§Ù†ÛŒ Ø¹Ø§Ø¨Ø±Ø§Ù†"
        ]
    },
    penalties: {
        title: "Ø¬Ø±Ø§ÛŒÙ… Ù…Ø±Ø¨ÙˆØ· Ø¨Ù‡ Ø¹Ø§Ø¨Ø±Ø§Ù† Ù¾ÛŒØ§Ø¯Ù‡",
        driver: [
            "Ø¹Ø¯Ù… ØªÙˆÙ‚Ù Ø¯Ø± Ú¯Ø°Ø±Ú¯Ø§Ù‡: ÛµÛ°Û°,Û°Û°Û° ØªÙˆÙ…Ø§Ù†",
            "ØªØµØ§Ø¯Ù Ø¨Ø§ Ø¹Ø§Ø¨Ø± Ø¯Ø± Ú¯Ø°Ø±Ú¯Ø§Ù‡: Û²,Û°Û°Û°,Û°Û°Û° ØªÙˆÙ…Ø§Ù† + Ù…Ø­Ø±ÙˆÙ…ÛŒØª Û± Ø³Ø§Ù„Ù‡",
            "Ø¨ÙˆÙ‚ Ø²Ø¯Ù† Ø¨Ø±Ø§ÛŒ Ø¹Ø§Ø¨Ø±: Û²Û°Û°,Û°Û°Û° ØªÙˆÙ…Ø§Ù†",
            "Ø³Ø±Ø¹Øª ØºÛŒØ±Ù…Ø¬Ø§Ø² Ø¯Ø± Ù…Ù†Ø·Ù‚Ù‡ Ù…Ø³Ú©ÙˆÙ†ÛŒ: Û´Û°Û°,Û°Û°Û° ØªÙˆÙ…Ø§Ù†"
        ]
    }
};

function generatePedestrianLawsResponse(userMessage) {
    let response = "ðŸš¸ **" + pedestrianLaws.title + "**\n\n";
    
    response += "ðŸŽ¯ **" + pedestrianLaws.crossings.title + ":**\n";
    pedestrianLaws.crossings.rules.forEach(rule => {
        response += "â€¢ " + rule + "\n";
    });
    
    response += "\nðŸ˜ï¸ **" + pedestrianLaws.residential.title + ":**\n";
    pedestrianLaws.residential.rules.forEach(rule => {
        response += "â€¢ " + rule + "\n";
    });
    
    response += "\nðŸ’° **" + pedestrianLaws.penalties.title + ":**\n";
    pedestrianLaws.penalties.driver.forEach(penalty => {
        response += "â€¢ " + penalty + "\n";
    });
    
    const alerts = [
        "ðŸ‘£ **ØªÙˆØµÛŒÙ‡ Ø§ÛŒÙ…Ù†ÛŒ:** Ø¯Ø± Ù…Ù†Ø§Ø·Ù‚ Ù…Ø³Ú©ÙˆÙ†ÛŒ Ø³Ø±Ø¹Øª Ø±Ø§ Ø¨Ù‡ Û²Û° Ú©ÛŒÙ„ÙˆÙ…ØªØ± Ú©Ø§Ù‡Ø´ Ø¯Ù‡ÛŒØ¯",
        "ðŸš¸ **Ù‡Ø´Ø¯Ø§Ø±:** Ú©ÙˆØ¯Ú©Ø§Ù† Ùˆ Ø³Ø§Ù„Ù…Ù†Ø¯Ø§Ù† Ù†ÛŒØ§Ø² Ø¨Ù‡ Ø²Ù…Ø§Ù† Ø¨ÛŒØ´ØªØ±ÛŒ Ø¨Ø±Ø§ÛŒ Ø¹Ø¨ÙˆØ± Ø¯Ø§Ø±Ù†Ø¯"
    ];
    
    return { response, alerts };
}

app.get('/api/laws/pedestrian', (req, res) => {
    const result = generatePedestrianLawsResponse('');
    res.json(result);
});

// ==================== Ù‚ÙˆØ§Ù†ÛŒÙ† Ú†Ø±Ø§Øºâ€ŒÙ‡Ø§ Ùˆ Ø¹Ù„Ø§Ø¦Ù… ====================
const trafficLightsLaws = {
    title: "Ù‚ÙˆØ§Ù†ÛŒÙ† Ú†Ø±Ø§Øºâ€ŒÙ‡Ø§ Ùˆ Ø¹Ù„Ø§Ø¦Ù… Ø±Ø§Ù‡Ù†Ù…Ø§ÛŒÛŒ",
    lights: {
        red: {
            meaning: "ØªÙˆÙ‚Ù Ú©Ø§Ù…Ù„ Ù‚Ø¨Ù„ Ø§Ø² Ø®Ø· Ø§ÛŒØ³Øª",
            action: "ØªÙˆÙ‚Ù Ú©Ø§Ù…Ù„ Ùˆ Ø§Ù†ØªØ¸Ø§Ø± Ø¨Ø±Ø§ÛŒ Ø³Ø¨Ø² Ø´Ø¯Ù†",
            exceptions: "Ø®ÙˆØ¯Ø±ÙˆÙ‡Ø§ÛŒ Ø§Ù…Ø¯Ø§Ø¯ÛŒ Ø¨Ø§ Ø¢Ú˜ÛŒØ± Ø±ÙˆØ´Ù†"
        },
        yellow: {
            meaning: "Ø¢Ù…Ø§Ø¯Ù‡ Ø¨Ø±Ø§ÛŒ ØªÙˆÙ‚Ù",
            action: "Ú©Ø§Ù‡Ø´ Ø³Ø±Ø¹Øª Ùˆ ØªÙˆÙ‚Ù Ø¯Ø± ØµÙˆØ±Øª Ø§Ù…Ú©Ø§Ù† Ø§ÛŒÙ…Ù†"
        },
        green: {
            meaning: "Ø¹Ø¨ÙˆØ± Ù…Ø¬Ø§Ø²", 
            action: "Ø¹Ø¨ÙˆØ± Ø¨Ø§ Ø§Ø­ØªÛŒØ§Ø· Ùˆ Ø±Ø¹Ø§ÛŒØª Ø­Ù‚ ØªÙ‚Ø¯Ù…"
        }
    },
    penalties: {
        title: "Ø¬Ø±Ø§ÛŒÙ… Ú†Ø±Ø§Øºâ€ŒÙ‡Ø§ Ùˆ Ø¹Ù„Ø§Ø¦Ù…",
        fines: [
            "Ø¹Ø¨ÙˆØ± Ø§Ø² Ú†Ø±Ø§Øº Ù‚Ø±Ù…Ø²: Û±,Û°Û°Û°,Û°Û°Û° ØªÙˆÙ…Ø§Ù†",
            "Ø¹Ø¯Ù… Ø±Ø¹Ø§ÛŒØª Ú†Ø±Ø§Øº Ø²Ø±Ø¯: ÛµÛ°Û°,Û°Û°Û° ØªÙˆÙ…Ø§Ù†",
            "Ø¹Ø¯Ù… Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² Ú†Ø±Ø§Øº Ø±Ø§Ù‡Ù†Ù…Ø§: Û²Û°Û°,Û°Û°Û° ØªÙˆÙ…Ø§Ù†",
            "Ø¹Ø¯Ù… Ø±Ø¹Ø§ÛŒØª Ø¹Ù„Ø§Ù…Øª Ø§ÛŒØ³Øª: Û´Û°Û°,Û°Û°Û° ØªÙˆÙ…Ø§Ù†"
        ]
    }
};

function generateTrafficLightsLawsResponse(userMessage) {
    let response = "ðŸš¥ **" + trafficLightsLaws.title + "**\n\n";
    
    response += "ðŸ”´ **Ú†Ø±Ø§Øº Ù‚Ø±Ù…Ø²:**\n";
    response += "â€¢ Ù…Ø¹Ù†ÛŒ: " + trafficLightsLaws.lights.red.meaning + "\n";
    response += "â€¢ Ø§Ù‚Ø¯Ø§Ù…: " + trafficLightsLaws.lights.red.action + "\n";
    response += "â€¢ Ø§Ø³ØªØ«Ù†Ø§: " + trafficLightsLaws.lights.red.exceptions + "\n\n";
    
    response += "ðŸŸ¡ **Ú†Ø±Ø§Øº Ø²Ø±Ø¯:**\n";
    response += "â€¢ Ù…Ø¹Ù†ÛŒ: " + trafficLightsLaws.lights.yellow.meaning + "\n";
    response += "â€¢ Ø§Ù‚Ø¯Ø§Ù…: " + trafficLightsLaws.lights.yellow.action + "\n\n";
    
    response += "ðŸŸ¢ **Ú†Ø±Ø§Øº Ø³Ø¨Ø²:**\n";
    response += "â€¢ Ù…Ø¹Ù†ÛŒ: " + trafficLightsLaws.lights.green.meaning + "\n";
    response += "â€¢ Ø§Ù‚Ø¯Ø§Ù…: " + trafficLightsLaws.lights.green.action + "\n\n";
    
    response += "ðŸ’° **" + trafficLightsLaws.penalties.title + ":**\n";
    trafficLightsLaws.penalties.fines.forEach(fine => {
        response += "â€¢ " + fine + "\n";
    });
    
    const alerts = [
        "ðŸš¥ **Ù‡Ø´Ø¯Ø§Ø±:** Ø¹Ø¨ÙˆØ± Ø§Ø² Ú†Ø±Ø§Øº Ù‚Ø±Ù…Ø² ÛŒÚ©ÛŒ Ø§Ø² Ø®Ø·Ø±Ù†Ø§Ú©â€ŒØªØ±ÛŒÙ† ØªØ®Ù„ÙØ§Øª Ø§Ø³Øª",
        "ðŸ’¡ **ØªÙˆØµÛŒÙ‡:** Ù‡Ù…ÛŒØ´Ù‡ Ù‚Ø¨Ù„ Ø§Ø² ØªÙ‚Ø§Ø·Ø¹ Ø³Ø±Ø¹Øª Ø®ÙˆØ¯ Ø±Ø§ Ú©Ø§Ù‡Ø´ Ø¯Ù‡ÛŒØ¯"
    ];
    
    return { response, alerts };
}

app.get('/api/laws/traffic-lights', (req, res) => {
    const result = generateTrafficLightsLawsResponse('');
    res.json(result);
});

// ==================== Ù‚ÙˆØ§Ù†ÛŒÙ† Ø§ÛŒÙ…Ù†ÛŒ ====================
const safetyLaws = {
    title: "Ù‚ÙˆØ§Ù†ÛŒÙ† Ø§ÛŒÙ…Ù†ÛŒ Ùˆ ØªØ¬Ù‡ÛŒØ²Ø§Øª",
    seatbelts: {
        title: "Ù‚ÙˆØ§Ù†ÛŒÙ† Ú©Ù…Ø±Ø¨Ù†Ø¯ Ø§ÛŒÙ…Ù†ÛŒ",
        rules: [
            "Ø§Ù„Ø²Ø§Ù…ÛŒ Ø¨Ø±Ø§ÛŒ Ø±Ø§Ù†Ù†Ø¯Ù‡ Ùˆ Ú©Ù„ÛŒÙ‡ Ø³Ø±Ù†Ø´ÛŒÙ†Ø§Ù†",
            "Ø¨Ø³ØªÙ† Ú©Ù…Ø±Ø¨Ù†Ø¯ Ù‚Ø¨Ù„ Ø§Ø² Ø´Ø±ÙˆØ¹ Ø­Ø±Ú©Øª",
            "Ø¹Ø¯Ù… Ø´Ù„ Ú©Ø±Ø¯Ù† Ú©Ù…Ø±Ø¨Ù†Ø¯ Ø¯Ø± Ø­ÛŒÙ† Ø­Ø±Ú©Øª"
        ]
    },
    equipment: {
        title: "ØªØ¬Ù‡ÛŒØ²Ø§Øª Ø§ÛŒÙ…Ù†ÛŒ Ø§Ù„Ø²Ø§Ù…ÛŒ",
        required: [
            "Ø¬Ø¹Ø¨Ù‡ Ú©Ù…Ú©â€ŒÙ‡Ø§ÛŒ Ø§ÙˆÙ„ÛŒÙ‡",
            "Ù…Ø«Ù„Ø« Ø§Ø­ØªÛŒØ§Ø·",
            "Ú©Ù¾Ø³ÙˆÙ„ Ø¢ØªØ´â€ŒÙ†Ø´Ø§Ù†ÛŒ (ÙˆØ³Ø§ÛŒÙ„ Ù†Ù‚Ù„ÛŒÙ‡ Ø®Ø§Øµ)"
        ]
    },
    penalties: {
        title: "Ø¬Ø±Ø§ÛŒÙ… Ø§ÛŒÙ…Ù†ÛŒ",
        fines: [
            "Ø¹Ø¯Ù… Ø¨Ø³ØªÙ† Ú©Ù…Ø±Ø¨Ù†Ø¯: Û²Û°Û°,Û°Û°Û° ØªÙˆÙ…Ø§Ù†",
            "Ù†Ø¯Ø§Ø´ØªÙ† Ø¬Ø¹Ø¨Ù‡ Ú©Ù…Ú©â€ŒÙ‡Ø§ÛŒ Ø§ÙˆÙ„ÛŒÙ‡: Û³Û°Û°,Û°Û°Û° ØªÙˆÙ…Ø§Ù†",
            "Ù†Ø¯Ø§Ø´ØªÙ† Ù…Ø«Ù„Ø« Ø§Ø­ØªÛŒØ§Ø·: Û²Û°Û°,Û°Û°Û° ØªÙˆÙ…Ø§Ù†"
        ]
    }
};

function generateSafetyLawsResponse(userMessage) {
    let response = "ðŸ”’ **" + safetyLaws.title + "**\n\n";
    
    response += "ðŸš— **" + safetyLaws.seatbelts.title + ":**\n";
    safetyLaws.seatbelts.rules.forEach(rule => {
        response += "â€¢ " + rule + "\n";
    });
    
    response += "\nðŸŽ’ **" + safetyLaws.equipment.title + ":**\n";
    safetyLaws.equipment.required.forEach(item => {
        response += "â€¢ " + item + "\n";
    });
    
    response += "\nðŸ’° **" + safetyLaws.penalties.title + ":**\n";
    safetyLaws.penalties.fines.forEach(fine => {
        response += "â€¢ " + fine + "\n";
    });
    
    const alerts = [
        "ðŸ”’ **Ù‡Ø´Ø¯Ø§Ø±:** Ú©Ù…Ø±Ø¨Ù†Ø¯ Ø§ÛŒÙ…Ù†ÛŒ Ø´Ø§Ù†Ø³ Ø²Ù†Ø¯Ù‡ Ù…Ø§Ù†Ø¯Ù† Ø¯Ø± ØªØµØ§Ø¯Ù Ø±Ø§ ÛµÛ°Ùª Ø§ÙØ²Ø§ÛŒØ´ Ù…ÛŒâ€ŒØ¯Ù‡Ø¯",
        "ðŸ‘¶ **ØªÙˆØµÛŒÙ‡:** Ú©ÙˆØ¯Ú©Ø§Ù† Ø¨Ø§ÛŒØ¯ Ù‡Ù…ÛŒØ´Ù‡ Ø¯Ø± ØµÙ†Ø¯Ù„ÛŒ Ø¹Ù‚Ø¨ Ø¨Ù†Ø´ÛŒÙ†Ù†Ø¯"
    ];
    
    return { response, alerts };
}

app.get('/api/laws/safety', (req, res) => {
    const result = generateSafetyLawsResponse('');
    res.json(result);
});

console.log('âœ… Ø³ÛŒØ³ØªÙ… Ù‚ÙˆØ§Ù†ÛŒÙ† Ø±Ø§Ù‡Ù†Ù…Ø§ÛŒÛŒ Ùˆ Ø±Ø§Ù†Ù†Ø¯Ú¯ÛŒ Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ø´Ø¯');
