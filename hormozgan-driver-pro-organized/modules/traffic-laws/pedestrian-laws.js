// ==================== Ù‚ÙˆØ§Ù†ÛŒÙ† Ø¹Ø§Ø¨Ø±Ø§Ù† Ù¾ÛŒØ§Ø¯Ù‡ ====================

const pedestrianLaws = {
    title: "Ù‚ÙˆØ§Ù†ÛŒÙ† Ø¹Ø§Ø¨Ø±Ø§Ù† Ù¾ÛŒØ§Ø¯Ù‡",
    crossings: {
        title: "Ù‚ÙˆØ§Ù†ÛŒÙ† Ú¯Ø°Ø±Ú¯Ø§Ù‡â€ŒÙ‡Ø§ÛŒ Ø¹Ø§Ø¨Ø± Ù¾ÛŒØ§Ø¯Ù‡",
        rules: [
            "ØªÙˆÙ‚Ù Ú©Ø§Ù…Ù„ Ø¯Ø± ÙØ§ØµÙ„Ù‡ Ûµ Ù…ØªØ±ÛŒ Ø§Ø² Ú¯Ø°Ø±Ú¯Ø§Ù‡",
            "Ø§ÙˆÙ„ÙˆÛŒØª Ù…Ø·Ù„Ù‚ Ø¨Ø§ Ø¹Ø§Ø¨Ø±Ø§Ù† Ù¾ÛŒØ§Ø¯Ù‡",
            "Ø¹Ø¯Ù… Ø¨ÙˆÙ‚ Ø²Ø¯Ù† Ø¨Ø±Ø§ÛŒ Ø¹Ø§Ø¨Ø±Ø§Ù†",
            "ØªÙˆÙ‚Ù Ú©Ø§Ù…Ù„ Ø­ØªÛŒ Ø¯Ø± ØµÙˆØ±Øª Ø¹Ø¯Ù… ÙˆØ¬ÙˆØ¯ Ø¹Ø§Ø¨Ø±",
            "Ø¹Ø¨ÙˆØ± Ø¹Ø§Ø¨Ø±Ø§Ù† ÙÙ‚Ø· Ø§Ø² Ø®Ø·ÙˆØ· Ø¹Ø§Ø¨Ø± Ù¾ÛŒØ§Ø¯Ù‡"
        ]
    },
    residential: {
        title: "Ù‚ÙˆØ§Ù†ÛŒÙ† Ù…Ù†Ø§Ø·Ù‚ Ù…Ø³Ú©ÙˆÙ†ÛŒ",
        rules: [
            "Ø³Ø±Ø¹Øª Ø­Ø¯Ø§Ú©Ø«Ø± Û²Û° Ú©ÛŒÙ„ÙˆÙ…ØªØ± Ø¨Ø± Ø³Ø§Ø¹Øª",
            "Ø§Ø­ØªÛŒØ§Ø· Ú©Ø§Ù…Ù„ Ø¯Ø± Ú©ÙˆÚ†Ù‡â€ŒÙ‡Ø§ Ùˆ Ù…Ø¹Ø§Ø¨Ø± Ø¨Ø§Ø±ÛŒÚ©",
            "ØªÙˆÙ‚Ù ÙÙˆØ±ÛŒ Ø¨Ø±Ø§ÛŒ Ú©ÙˆØ¯Ú©Ø§Ù† Ùˆ Ø³Ø§Ù„Ù…Ù†Ø¯Ø§Ù†",
            "Ù¾ÛŒØ´â€ŒØ¨ÛŒÙ†ÛŒ Ø­Ø±Ú©Øª Ù†Ø§Ú¯Ù‡Ø§Ù†ÛŒ Ø¹Ø§Ø¨Ø±Ø§Ù†",
            "Ø¹Ø¯Ù… Ø³Ø¨Ù‚Øª Ø¯Ø± Ù…Ù†Ø§Ø·Ù‚ Ù…Ø³Ú©ÙˆÙ†ÛŒ"
        ]
    },
    pedestrianDuties: {
        title: "ÙˆØ¸Ø§ÛŒÙ Ø¹Ø§Ø¨Ø±Ø§Ù† Ù¾ÛŒØ§Ø¯Ù‡",
        rules: [
            "Ø¹Ø¨ÙˆØ± ÙÙ‚Ø· Ø§Ø² Ú¯Ø°Ø±Ú¯Ø§Ù‡â€ŒÙ‡Ø§ÛŒ Ù…Ø´Ø®Øµ Ø´Ø¯Ù‡",
            "Ø¹Ø¯Ù… Ø¹Ø¨ÙˆØ± Ø§Ø² Ù¾Ø´Øª ÙˆØ³Ø§ÛŒÙ„ Ù†Ù‚Ù„ÛŒÙ‡ Ù…ØªÙˆÙ‚Ù",
            "Ø±Ø¹Ø§ÛŒØª Ú†Ø±Ø§Øºâ€ŒÙ‡Ø§ÛŒ Ø¹Ø§Ø¨Ø± Ù¾ÛŒØ§Ø¯Ù‡",
            "Ø¹Ø¨ÙˆØ± Ø§Ø² Ø³Ù…Øª Ø±Ø§Ø³Øª Ø¬Ø§Ø¯Ù‡ Ø¯Ø± ØµÙˆØ±Øª Ø¹Ø¯Ù… ÙˆØ¬ÙˆØ¯ Ù¾ÛŒØ§Ø¯Ù‡â€ŒØ±Ùˆ",
            "Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² Ù„Ø¨Ø§Ø³â€ŒÙ‡Ø§ÛŒ Ø±ÙˆØ´Ù† Ø¯Ø± Ø´Ø¨"
        ]
    },
    penalties: {
        title: "Ø¬Ø±Ø§ÛŒÙ… Ù…Ø±Ø¨ÙˆØ· Ø¨Ù‡ Ø¹Ø§Ø¨Ø±Ø§Ù† Ù¾ÛŒØ§Ø¯Ù‡",
        driver: [
            "Ø¹Ø¯Ù… ØªÙˆÙ‚Ù Ø¯Ø± Ú¯Ø°Ø±Ú¯Ø§Ù‡: ÛµÛ°Û°,Û°Û°Û° ØªÙˆÙ…Ø§Ù†",
            "ØªØµØ§Ø¯Ù Ø¨Ø§ Ø¹Ø§Ø¨Ø± Ø¯Ø± Ú¯Ø°Ø±Ú¯Ø§Ù‡: Û²,Û°Û°Û°,Û°Û°Û° ØªÙˆÙ…Ø§Ù† + Ù…Ø­Ø±ÙˆÙ…ÛŒØª Û± Ø³Ø§Ù„Ù‡",
            "Ø¨ÙˆÙ‚ Ø²Ø¯Ù† Ø¨Ø±Ø§ÛŒ Ø¹Ø§Ø¨Ø±: Û²Û°Û°,Û°Û°Û° ØªÙˆÙ…Ø§Ù†",
            "Ø³Ø±Ø¹Øª ØºÛŒØ±Ù…Ø¬Ø§Ø² Ø¯Ø± Ù…Ù†Ø·Ù‚Ù‡ Ù…Ø³Ú©ÙˆÙ†ÛŒ: Û´Û°Û°,Û°Û°Û° ØªÙˆÙ…Ø§Ù†"
        ],
        pedestrian: [
            "Ø¹Ø¨ÙˆØ± Ø§Ø² Ù…Ú©Ø§Ù† ØºÛŒØ±Ù…Ø¬Ø§Ø²: Û±Û°Û°,Û°Û°Û° ØªÙˆÙ…Ø§Ù†",
            "Ø§ÛŒØ¬Ø§Ø¯ Ø®Ø·Ø± Ø¨Ø±Ø§ÛŒ Ø®ÙˆØ¯Ø±ÙˆÙ‡Ø§: Û²Û°Û°,Û°Û°Û° ØªÙˆÙ…Ø§Ù†",
            "Ø¹Ø¨ÙˆØ± Ù†Ø§Ú¯Ù‡Ø§Ù†ÛŒ Ø§Ø² Ù¾Ø´Øª Ø®ÙˆØ¯Ø±Ùˆ: Û±ÛµÛ°,Û°Û°Û° ØªÙˆÙ…Ø§Ù†"
        ]
    }
};

function generatePedestrianLawsResponse(userMessage) {
    let response = `ðŸš¸ **${pedestrianLaws.title}**\n\n`;
    
    response += `ðŸŽ¯ **${pedestrianLaws.crossings.title}:**\n`;
    pedestrianLaws.crossings.rules.forEach(rule => {
        response += `â€¢ ${rule}\n`;
    });
    
    response += `\nðŸ˜ï¸ **${pedestrianLaws.residential.title}:**\n`;
    pedestrianLaws.residential.rules.forEach(rule => {
        response += `â€¢ ${rule}\n`;
    });
    
    response += `\nðŸ‘£ **${pedestrianLaws.pedestrianDuties.title}:**\n`;
    pedestrianLaws.pedestrianDuties.rules.forEach(rule => {
        response += `â€¢ ${rule}\n`;
    });
    
    response += `\nðŸ’° **${pedestrianLaws.penalties.title}:**\n`;
    response += `**Ø±Ø§Ù†Ù†Ø¯Ú¯Ø§Ù†:**\n`;
    pedestrianLaws.penalties.driver.forEach(penalty => {
        response += `â€¢ ${penalty}\n`;
    });
    response += `**Ø¹Ø§Ø¨Ø±Ø§Ù†:**\n`;
    pedestrianLaws.penalties.pedestrian.forEach(penalty => {
        response += `â€¢ ${penalty}\n`;
    });
    
    const alerts = [
        "ðŸ‘£ **ØªÙˆØµÛŒÙ‡ Ø§ÛŒÙ…Ù†ÛŒ:** Ø¯Ø± Ù…Ù†Ø§Ø·Ù‚ Ù…Ø³Ú©ÙˆÙ†ÛŒ Ø³Ø±Ø¹Øª Ø±Ø§ Ø¨Ù‡ Û²Û° Ú©ÛŒÙ„ÙˆÙ…ØªØ± Ú©Ø§Ù‡Ø´ Ø¯Ù‡ÛŒØ¯",
        "ðŸš¸ **Ù‡Ø´Ø¯Ø§Ø±:** Ú©ÙˆØ¯Ú©Ø§Ù† Ùˆ Ø³Ø§Ù„Ù…Ù†Ø¯Ø§Ù† Ù†ÛŒØ§Ø² Ø¨Ù‡ Ø²Ù…Ø§Ù† Ø¨ÛŒØ´ØªØ±ÛŒ Ø¨Ø±Ø§ÛŒ Ø¹Ø¨ÙˆØ± Ø¯Ø§Ø±Ù†Ø¯"
    ];
    
    return { response, alerts };
}

// endpoint Ù‚ÙˆØ§Ù†ÛŒÙ† Ø¹Ø§Ø¨Ø±Ø§Ù† Ù¾ÛŒØ§Ø¯Ù‡
app.get('/api/laws/pedestrian', (req, res) => {
    const result = generatePedestrianLawsResponse('');
    res.json(result);
});

console.log('âœ… Ù‚ÙˆØ§Ù†ÛŒÙ† Ø¹Ø§Ø¨Ø±Ø§Ù† Ù¾ÛŒØ§Ø¯Ù‡ Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ø´Ø¯');
