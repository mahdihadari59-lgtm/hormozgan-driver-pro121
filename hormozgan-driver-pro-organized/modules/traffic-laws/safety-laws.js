// ==================== Ù‚ÙˆØ§Ù†ÛŒÙ† Ø§ÛŒÙ…Ù†ÛŒ ====================

const safetyLaws = {
    title: "Ù‚ÙˆØ§Ù†ÛŒÙ† Ø§ÛŒÙ…Ù†ÛŒ Ùˆ ØªØ¬Ù‡ÛŒØ²Ø§Øª",
    seatbelts: {
        title: "Ù‚ÙˆØ§Ù†ÛŒÙ† Ú©Ù…Ø±Ø¨Ù†Ø¯ Ø§ÛŒÙ…Ù†ÛŒ",
        rules: [
            "Ø§Ù„Ø²Ø§Ù…ÛŒ Ø¨Ø±Ø§ÛŒ Ø±Ø§Ù†Ù†Ø¯Ù‡ Ùˆ Ú©Ù„ÛŒÙ‡ Ø³Ø±Ù†Ø´ÛŒÙ†Ø§Ù†",
            "Ø¨Ø³ØªÙ† Ú©Ù…Ø±Ø¨Ù†Ø¯ Ù‚Ø¨Ù„ Ø§Ø² Ø´Ø±ÙˆØ¹ Ø­Ø±Ú©Øª",
            "Ø¹Ø¯Ù… Ø´Ù„ Ú©Ø±Ø¯Ù† Ú©Ù…Ø±Ø¨Ù†Ø¯ Ø¯Ø± Ø­ÛŒÙ† Ø­Ø±Ú©Øª",
            "Ú©Ù…Ø±Ø¨Ù†Ø¯ Ø¨Ø§ÛŒØ¯ Ø¨Ù‡ Ø¯Ø±Ø³ØªÛŒ ØªÙ†Ø¸ÛŒÙ… Ø´ÙˆØ¯"
        ],
        exceptions: [
            "Ø®ÙˆØ¯Ø±ÙˆÙ‡Ø§ÛŒ Ù‚Ø¯ÛŒÙ…ÛŒ ÙØ§Ù‚Ø¯ Ú©Ù…Ø±Ø¨Ù†Ø¯",
            "Ø±Ø§Ù†Ù†Ø¯Ú¯Ø§Ù† ØªØ§Ú©Ø³ÛŒ Ø¯Ø± Ù…Ø­Ø¯ÙˆØ¯Ù‡ Ø´Ù‡Ø±ÛŒ",
            "ÙˆØ³Ø§ÛŒÙ„ Ù†Ù‚Ù„ÛŒÙ‡ Ø¯Ø± Ø­Ø§Ù„ Ù…Ø§Ù†ÙˆØ± Ø¯Ø± Ù¾Ø§Ø±Ú©ÛŒÙ†Ú¯"
        ]
    },
    childSeats: {
        title: "Ù‚ÙˆØ§Ù†ÛŒÙ† ØµÙ†Ø¯Ù„ÛŒ Ú©ÙˆØ¯Ú©",
        rules: [
            "Ø§Ù„Ø²Ø§Ù…ÛŒ Ø¨Ø±Ø§ÛŒ Ú©ÙˆØ¯Ú©Ø§Ù† Ø²ÛŒØ± Û±Û² Ø³Ø§Ù„",
            "ØµÙ†Ø¯Ù„ÛŒ Ù…ØªÙ†Ø§Ø³Ø¨ Ø¨Ø§ Ø³Ù† Ùˆ ÙˆØ²Ù† Ú©ÙˆØ¯Ú©",
            "Ù†ØµØ¨ ØµØ­ÛŒØ­ ØµÙ†Ø¯Ù„ÛŒ Ø¯Ø± ØµÙ†Ø¯Ù„ÛŒ Ø¹Ù‚Ø¨",
            "Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² ØµÙ†Ø¯Ù„ÛŒ Ø±Ùˆ Ø¨Ù‡ Ø¹Ù‚Ø¨ Ø¨Ø±Ø§ÛŒ Ù†ÙˆØ²Ø§Ø¯Ø§Ù†"
        ],
        ageGroups: [
            "Ù†ÙˆØ²Ø§Ø¯Ø§Ù† (Û°-Û± Ø³Ø§Ù„): ØµÙ†Ø¯Ù„ÛŒ Ø±Ùˆ Ø¨Ù‡ Ø¹Ù‚Ø¨",
            "Ú©ÙˆØ¯Ú©Ø§Ù† (Û±-Û´ Ø³Ø§Ù„): ØµÙ†Ø¯Ù„ÛŒ Ø±Ùˆ Ø¨Ù‡ Ø¬Ù„Ùˆ", 
            "Ú©ÙˆØ¯Ú©Ø§Ù† (Û´-Û±Û² Ø³Ø§Ù„): booster seat"
        ]
    },
    equipment: {
        title: "ØªØ¬Ù‡ÛŒØ²Ø§Øª Ø§ÛŒÙ…Ù†ÛŒ Ø§Ù„Ø²Ø§Ù…ÛŒ",
        required: [
            "Ø¬Ø¹Ø¨Ù‡ Ú©Ù…Ú©â€ŒÙ‡Ø§ÛŒ Ø§ÙˆÙ„ÛŒÙ‡",
            "Ù…Ø«Ù„Ø« Ø§Ø­ØªÛŒØ§Ø·",
            "Ú©Ù¾Ø³ÙˆÙ„ Ø¢ØªØ´â€ŒÙ†Ø´Ø§Ù†ÛŒ (ÙˆØ³Ø§ÛŒÙ„ Ù†Ù‚Ù„ÛŒÙ‡ Ø®Ø§Øµ)",
            "Ú†Ø±Ø§Øº Ù‚ÙˆÙ‡",
            "Ú©Ø§Ø¨Ù„ Ø§Ø³ØªØ§Ø±Øª"
        ],
        recommended: [
            "Ú©ÛŒØª ØªØ¹Ù…ÛŒØ± Ù„Ø§Ø³ØªÛŒÚ©",
            "Ø¬Ú© Ø®ÙˆØ¯Ø±Ùˆ",
            "Ú©Ø§Ø¨Ù„ Ø¨Ø±Ù‚",
            "Ù„Ø¨Ø§Ø³ Ø§ÛŒÙ…Ù†ÛŒ"
        ]
    },
    penalties: {
        title: "Ø¬Ø±Ø§ÛŒÙ… Ø§ÛŒÙ…Ù†ÛŒ",
        fines: [
            "Ø¹Ø¯Ù… Ø¨Ø³ØªÙ† Ú©Ù…Ø±Ø¨Ù†Ø¯: Û²Û°Û°,Û°Û°Û° ØªÙˆÙ…Ø§Ù†",
            "Ù†Ø¯Ø§Ø´ØªÙ† ØµÙ†Ø¯Ù„ÛŒ Ú©ÙˆØ¯Ú©: Û³Û°Û°,Û°Û°Û° ØªÙˆÙ…Ø§Ù†",
            "Ù†Ø¯Ø§Ø´ØªÙ† Ø¬Ø¹Ø¨Ù‡ Ú©Ù…Ú©â€ŒÙ‡Ø§ÛŒ Ø§ÙˆÙ„ÛŒÙ‡: Û³Û°Û°,Û°Û°Û° ØªÙˆÙ…Ø§Ù†",
            "Ù†Ø¯Ø§Ø´ØªÙ† Ù…Ø«Ù„Ø« Ø§Ø­ØªÛŒØ§Ø·: Û²Û°Û°,Û°Û°Û° ØªÙˆÙ…Ø§Ù†",
            "Ù†Ø¯Ø§Ø´ØªÙ† Ú©Ù¾Ø³ÙˆÙ„ Ø¢ØªØ´â€ŒÙ†Ø´Ø§Ù†ÛŒ (Ø¯Ø± ØµÙˆØ±Øª Ø§Ù„Ø²Ø§Ù…): ÛµÛ°Û°,Û°Û°Û° ØªÙˆÙ…Ø§Ù†"
        ]
    }
};

function generateSafetyLawsResponse(userMessage) {
    let response = `ðŸ”’ **${safetyLaws.title}**\n\n`;
    
    response += `ðŸš— **${safetyLaws.seatbelts.title}:**\n`;
    safetyLaws.seatbelts.rules.forEach(rule => {
        response += `â€¢ ${rule}\n`;
    });
    response += `âš¡ **Ø§Ø³ØªØ«Ù†Ø§Ù‡Ø§:**\n`;
    safetyLaws.seatbelts.exceptions.forEach(exception => {
        response += `â€¢ ${exception}\n`;
    });
    
    response += `\nðŸ‘¶ **${safetyLaws.childSeats.title}:**\n`;
    safetyLaws.childSeats.rules.forEach(rule => {
        response += `â€¢ ${rule}\n`;
    });
    response += `ðŸ“Š **Ú¯Ø±ÙˆÙ‡â€ŒÙ‡Ø§ÛŒ Ø³Ù†ÛŒ:**\n`;
    safetyLaws.childSeats.ageGroups.forEach(group => {
        response += `â€¢ ${group}\n`;
    });
    
    response += `\nðŸŽ’ **${safetyLaws.equipment.title}:**\n`;
    response += `**Ø§Ù„Ø²Ø§Ù…ÛŒ:**\n`;
    safetyLaws.equipment.required.forEach(item => {
        response += `â€¢ ${item}\n`;
    });
    response += `**ØªÙˆØµÛŒÙ‡ Ø´Ø¯Ù‡:**\n`;
    safetyLaws.equipment.recommended.forEach(item => {
        response += `â€¢ ${item}\n`;
    });
    
    response += `\nðŸ’° **${safetyLaws.penalties.title}:**\n`;
    safetyLaws.penalties.fines.forEach(fine => {
        response += `â€¢ ${fine}\n`;
    });
    
    const alerts = [
        "ðŸ”’ **Ù‡Ø´Ø¯Ø§Ø±:** Ú©Ù…Ø±Ø¨Ù†Ø¯ Ø§ÛŒÙ…Ù†ÛŒ Ø´Ø§Ù†Ø³ Ø²Ù†Ø¯Ù‡ Ù…Ø§Ù†Ø¯Ù† Ø¯Ø± ØªØµØ§Ø¯Ù Ø±Ø§ ÛµÛ°Ùª Ø§ÙØ²Ø§ÛŒØ´ Ù…ÛŒâ€ŒØ¯Ù‡Ø¯",
        "ðŸ‘¶ **ØªÙˆØµÛŒÙ‡:** Ú©ÙˆØ¯Ú©Ø§Ù† Ø¨Ø§ÛŒØ¯ Ù‡Ù…ÛŒØ´Ù‡ Ø¯Ø± ØµÙ†Ø¯Ù„ÛŒ Ø¹Ù‚Ø¨ Ø¨Ù†Ø´ÛŒÙ†Ù†Ø¯"
    ];
    
    return { response, alerts };
}

// endpoint Ù‚ÙˆØ§Ù†ÛŒÙ† Ø§ÛŒÙ…Ù†ÛŒ
app.get('/api/laws/safety', (req, res) => {
    const result = generateSafetyLawsResponse('');
    res.json(result);
});

console.log('âœ… Ù‚ÙˆØ§Ù†ÛŒÙ† Ø§ÛŒÙ…Ù†ÛŒ Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ø´Ø¯');
