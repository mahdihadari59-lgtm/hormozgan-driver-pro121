#!/bin/bash

echo "๐ ุฏุฑ ุญุงู ุงูุฒูุฏู ููุงูู ุฑุงูููุง ู ุฑุงููุฏฺฏ ุจู ุณุฑูุฑ..."

# ุงูุฒูุฏู ููุงูู ุณุฑุนุช
cat >> server-v7.js << 'SPEED_LAWS'

// ==================== ููุงูู ุณุฑุนุช ====================
const speedLaws = {
    title: "ูุญุฏูุฏุชโูุง ุณุฑุนุช",
    urban: {
        title: "ูุญุฏูุฏุชโูุง ุณุฑุนุช ุฏุฑ ููุงุทู ุดูุฑ",
        limits: [
            "ุฎุงุจุงูโูุง ุงุตู: ตฐ ฺฉูููุชุฑ ุจุฑ ุณุงุนุช",
            "ุฎุงุจุงูโูุง ูุฑุน: ณฐ ฺฉูููุชุฑ ุจุฑ ุณุงุนุช", 
            "ููุงุทู ูุณฺฉูู: ฒฐ ฺฉูููุชุฑ ุจุฑ ุณุงุนุช",
            "ูุฏุงุฑุณ ู ุจูุงุฑุณุชุงูโูุง: ฒฐ ฺฉูููุชุฑ ุจุฑ ุณุงุนุช",
            "ูพุงุฑฺฉโูุง ู ูุถุงูุง ุณุจุฒ: ฒฐ ฺฉูููุชุฑ ุจุฑ ุณุงุนุช",
            "ุชูููโูุง ุดูุฑ: ดฐ ฺฉูููุชุฑ ุจุฑ ุณุงุนุช"
        ]
    },
    suburban: {
        title: "ูุญุฏูุฏุชโูุง ุณุฑุนุช ุฏุฑ ุจุฑููโุดูุฑ",
        limits: [
            "ุฌุงุฏูโูุง ุงุตู: ฑฑฐ ฺฉูููุชุฑ ุจุฑ ุณุงุนุช",
            "ุฌุงุฏูโูุง ูุฑุน: นฐ ฺฉูููุชุฑ ุจุฑ ุณุงุนุช",
            "ุขุฒุงุฏุฑุงูโูุง: ฑฒฐ ฺฉูููุชุฑ ุจุฑ ุณุงุนุช",
            "ุฌุงุฏูโูุง ฺฉููุณุชุงู: ทฐ ฺฉูููุชุฑ ุจุฑ ุณุงุนุช",
            "ูพูโูุง: ธฐ ฺฉูููุชุฑ ุจุฑ ุณุงุนุช",
            "ุชูููโูุง ุจุฑููโุดูุฑ: ธฐ ฺฉูููุชุฑ ุจุฑ ุณุงุนุช"
        ]
    },
    penalties: {
        title: "ุฌุฑุงู ุณุฑุนุช ุบุฑูุฌุงุฒ",
        urban: [
            "ุชุฌุงูุฒ ุชุง ฒฐ ฺฉูููุชุฑ: ณฐฐ,ฐฐฐ ุชููุงู",
            "ุชุฌุงูุฒ ฒฐ ุชุง ดฐ ฺฉูููุชุฑ: ตฐฐ,ฐฐฐ ุชููุงู",
            "ุชุฌุงูุฒ ุจุด ุงุฒ ดฐ ฺฉูููุชุฑ: ฑ,ฐฐฐ,ฐฐฐ ุชููุงู + ุชุนูู ฺฏูุงููุงูู ฑ ูุงูู"
        ],
        suburban: [
            "ุชุฌุงูุฒ ุชุง ณฐ ฺฉูููุชุฑ: ตฐฐ,ฐฐฐ ุชููุงู", 
            "ุชุฌุงูุฒ ณฐ ุชุง ตฐ ฺฉูููุชุฑ: ฑ,ฐฐฐ,ฐฐฐ ุชููุงู",
            "ุชุฌุงูุฒ ุจุด ุงุฒ ตฐ ฺฉูููุชุฑ: ฒ,ฐฐฐ,ฐฐฐ ุชููุงู + ุชุนูู ฺฏูุงููุงูู ณ ูุงูู"
        ]
    },
    exceptions: [
        "ุฎูุฏุฑููุง ุงูุฏุงุฏ ุจุง ุขฺุฑ ุฑูุดู",
        "ูุณุงู ูููู ูุธุงู ุฏุฑ ูุฃููุฑุช",
        "ฺฉุงุฑูุงูโูุง ุฑุณู ุจุง ูุฌูุฒ"
    ]
};

function generateSpeedLawsResponse(userMessage) {
    let response = "๐ฆ **" + speedLaws.title + "**\n\n";
    
    response += "๐๏ธ **" + speedLaws.urban.title + ":**\n";
    speedLaws.urban.limits.forEach(limit => {
        response += "โข " + limit + "\n";
    });
    
    response += "\n๐ฃ๏ธ **" + speedLaws.suburban.title + ":**\n";
    speedLaws.suburban.limits.forEach(limit => {
        response += "โข " + limit + "\n";
    });
    
    response += "\n๐ฐ **" + speedLaws.penalties.title + ":**\n";
    response += "**ุดูุฑ:**\n";
    speedLaws.penalties.urban.forEach(penalty => {
        response += "โข " + penalty + "\n";
    });
    response += "**ุจุฑููโุดูุฑ:**\n";
    speedLaws.penalties.suburban.forEach(penalty => {
        response += "โข " + penalty + "\n";
    });
    
    response += "\nโก **ุงุณุชุซูุงูุง:**\n";
    speedLaws.exceptions.forEach(exception => {
        response += "โข " + exception + "\n";
    });
    
    const alerts = [
        "โ๏ธ **ูุดุฏุงุฑ:** ุฑุนุงุช ูุญุฏูุฏุชโูุง ุณุฑุนุช ููุฌุจ ฺฉุงูุด ดฐูช ุชุตุงุฏูุงุช ูโุดูุฏ",
        "๐ **ุขูุงุฑ:** ณฐูช ุชุตุงุฏูุงุช ูุฑฺฏุจุงุฑ ูุงุด ุงุฒ ุณุฑุนุช ุบุฑูุฌุงุฒ ุงุณุช"
    ];
    
    return { response, alerts };
}

app.get('/api/laws/speed', (req, res) => {
    const result = generateSpeedLawsResponse('');
    res.json(result);
});
SPEED_LAWS

echo "โ ููุงูู ุณุฑุนุช ุงุถุงูู ุดุฏ"

# ุงูุฒูุฏู ููุงูู ุณุจูุช
cat >> server-v7.js << 'OVERTAKING_LAWS'

// ==================== ููุงูู ุณุจูุช ====================
const overtakingLaws = {
    title: "ููุงูู ุณุจูุช",
    allowed: {
        title: "ุดุฑุงุท ุณุจูุช ูุฌุงุฒ",
        conditions: [
            "ุฎุท ุณุจูุช ฺฉุงููุงู ุขุฒุงุฏ ู ูุงุจู ุฏุฏ ุจุงุดุฏ",
            "ุฏุฏ ฺฉุงู (ุญุฏุงูู ฒฐฐ ูุชุฑ ุฏุฑ ุฑูุฒุ ณฐฐ ูุชุฑ ุฏุฑ ุดุจ)",
            "ูุงุตูู ุงูู ุงุฒ ุฎูุฏุฑู ุฌูู ุฑุนุงุช ุดูุฏ",
            "ุนุฏู ูุฌูุฏ ุนูุงุฆู ููููุนุช ุณุจูุช",
            "ุณุฑุนุช ุฎูุฏุฑู ุณุจูุชโฺฏุฑูุฏู ุจุดุชุฑ ุงุฒ ุฎูุฏุฑู ุฌูู ุจุงุดุฏ",
            "ุจุฑฺฏุดุช ุจู ุฎุท ุงุตู ูพุณ ุงุฒ ุงุชูุงู ุณุจูุช"
        ]
    },
    prohibited: {
        title: "ูฺฉุงูโูุง ููููุน ุจุฑุง ุณุจูุช",
        locations: [
            "ูพฺโูุง ู ุณุฑุจุงูุงโูุง ุจุง ุฏุฏ ูุงฺฉุงู",
            "ุชูุงุทุนโูุง ู ูุฏุงูโูุง",
            "ฺฏุฐุฑฺฏุงูโูุง ุนุงุจุฑ ูพุงุฏู",
            "ตฐ ูุชุฑ ุชูููโูุง ู ูพูโูุง",
            "ุฎุทูุท ููุชุฏ ู ฺฉุทุฑูู",
            "ูุฒุฏฺฉ ุงุณุชฺฏุงูโูุง ูุทุงุฑ ู ูุชุฑู",
            "ุฌุงุฏูโูุง ุฎโุฒุฏู ู ูุบุฒูุฏู"
        ]
    },
    penalties: {
        title: "ุฌุฑุงู ุณุจูุช ุบุฑูุฌุงุฒ",
        fines: [
            "ุณุจูุช ุบุฑูุฌุงุฒ ุฏุฑ ุดุฑุงุท ุนุงุฏ: ทตฐ,ฐฐฐ ุชููุงู",
            "ุณุจูุช ุงุฒ ุฑุงุณุช: ฑ,ฐฐฐ,ฐฐฐ ุชููุงู",
            "ุณุจูุช ุฏุฑ ุดุฑุงุท ุฎุทุฑูุงฺฉ: ฑ,ตฐฐ,ฐฐฐ ุชููุงู + ุชุนูู ฺฏูุงููุงูู ณ ูุงูู",
            "ุณุจูุช ุฏุฑ ูพฺ ู ุณุฑุจุงูุง: ฒ,ฐฐฐ,ฐฐฐ ุชููุงู + ุชุนูู ถ ูุงูู",
            "ุณุจูุช ููุฌุฑ ุจู ุชุตุงุฏู: ต,ฐฐฐ,ฐฐฐ ุชููุงู + ูุญุฑููุช ฑ ุณุงูู"
        ]
    }
};

function generateOvertakingLawsResponse(userMessage) {
    let response = "๐ **" + overtakingLaws.title + "**\n\n";
    
    response += "โ **" + overtakingLaws.allowed.title + ":**\n";
    overtakingLaws.allowed.conditions.forEach(condition => {
        response += "โข " + condition + "\n";
    });
    
    response += "\nโ **" + overtakingLaws.prohibited.title + ":**\n";
    overtakingLaws.prohibited.locations.forEach(location => {
        response += "โข " + location + "\n";
    });
    
    response += "\n๐ฐ **" + overtakingLaws.penalties.title + ":**\n";
    overtakingLaws.penalties.fines.forEach(fine => {
        response += "โข " + fine + "\n";
    });
    
    const alerts = [
        "๐จ **ูุดุฏุงุฑ:** ณตูช ุชุตุงุฏูุงุช ูุฑฺฏุจุงุฑ ูุงุด ุงุฒ ุณุจูุช ุบุฑูุฌุงุฒ ุงุณุช",
        "๐ก **ุชูุตู:** ูุจู ุงุฒ ุณุจูุช ุงุฒ ุณุงูู ุจูุฏู ฺุฑุงุบโูุง ุฑุงูููุง ุงุทููุงู ุญุงุตู ฺฉูุฏ"
    ];
    
    return { response, alerts };
}

app.get('/api/laws/overtaking', (req, res) => {
    const result = generateOvertakingLawsResponse('');
    res.json(result);
});
OVERTAKING_LAWS

echo "โ ููุงูู ุณุจูุช ุงุถุงูู ุดุฏ"

# ุงูุฒูุฏู ููุงูู ุนุงุจุฑุงู ูพุงุฏู
cat >> server-v7.js << 'PEDESTRIAN_LAWS'

// ==================== ููุงูู ุนุงุจุฑุงู ูพุงุฏู ====================
const pedestrianLaws = {
    title: "ููุงูู ุนุงุจุฑุงู ูพุงุฏู",
    crossings: {
        title: "ููุงูู ฺฏุฐุฑฺฏุงูโูุง ุนุงุจุฑ ูพุงุฏู",
        rules: [
            "ุชููู ฺฉุงูู ุฏุฑ ูุงุตูู ต ูุชุฑ ุงุฒ ฺฏุฐุฑฺฏุงู",
            "ุงูููุช ูุทูู ุจุง ุนุงุจุฑุงู ูพุงุฏู",
            "ุนุฏู ุจูู ุฒุฏู ุจุฑุง ุนุงุจุฑุงู",
            "ุชููู ฺฉุงูู ุญุช ุฏุฑ ุตูุฑุช ุนุฏู ูุฌูุฏ ุนุงุจุฑ",
            "ุนุจูุฑ ุนุงุจุฑุงู ููุท ุงุฒ ุฎุทูุท ุนุงุจุฑ ูพุงุฏู"
        ]
    },
    residential: {
        title: "ููุงูู ููุงุทู ูุณฺฉูู",
        rules: [
            "ุณุฑุนุช ุญุฏุงฺฉุซุฑ ฒฐ ฺฉูููุชุฑ ุจุฑ ุณุงุนุช",
            "ุงุญุชุงุท ฺฉุงูู ุฏุฑ ฺฉูฺูโูุง ู ูุนุงุจุฑ ุจุงุฑฺฉ",
            "ุชููู ููุฑ ุจุฑุง ฺฉูุฏฺฉุงู ู ุณุงูููุฏุงู",
            "ูพุดโุจู ุญุฑฺฉุช ูุงฺฏูุงู ุนุงุจุฑุงู"
        ]
    },
    penalties: {
        title: "ุฌุฑุงู ูุฑุจูุท ุจู ุนุงุจุฑุงู ูพุงุฏู",
        driver: [
            "ุนุฏู ุชููู ุฏุฑ ฺฏุฐุฑฺฏุงู: ตฐฐ,ฐฐฐ ุชููุงู",
            "ุชุตุงุฏู ุจุง ุนุงุจุฑ ุฏุฑ ฺฏุฐุฑฺฏุงู: ฒ,ฐฐฐ,ฐฐฐ ุชููุงู + ูุญุฑููุช ฑ ุณุงูู",
            "ุจูู ุฒุฏู ุจุฑุง ุนุงุจุฑ: ฒฐฐ,ฐฐฐ ุชููุงู",
            "ุณุฑุนุช ุบุฑูุฌุงุฒ ุฏุฑ ููุทูู ูุณฺฉูู: ดฐฐ,ฐฐฐ ุชููุงู"
        ]
    }
};

function generatePedestrianLawsResponse(userMessage) {
    let response = "๐ธ **" + pedestrianLaws.title + "**\n\n";
    
    response += "๐ฏ **" + pedestrianLaws.crossings.title + ":**\n";
    pedestrianLaws.crossings.rules.forEach(rule => {
        response += "โข " + rule + "\n";
    });
    
    response += "\n๐๏ธ **" + pedestrianLaws.residential.title + ":**\n";
    pedestrianLaws.residential.rules.forEach(rule => {
        response += "โข " + rule + "\n";
    });
    
    response += "\n๐ฐ **" + pedestrianLaws.penalties.title + ":**\n";
    pedestrianLaws.penalties.driver.forEach(penalty => {
        response += "โข " + penalty + "\n";
    });
    
    const alerts = [
        "๐ฃ **ุชูุตู ุงูู:** ุฏุฑ ููุงุทู ูุณฺฉูู ุณุฑุนุช ุฑุง ุจู ฒฐ ฺฉูููุชุฑ ฺฉุงูุด ุฏูุฏ",
        "๐ธ **ูุดุฏุงุฑ:** ฺฉูุฏฺฉุงู ู ุณุงูููุฏุงู ูุงุฒ ุจู ุฒูุงู ุจุดุชุฑ ุจุฑุง ุนุจูุฑ ุฏุงุฑูุฏ"
    ];
    
    return { response, alerts };
}

app.get('/api/laws/pedestrian', (req, res) => {
    const result = generatePedestrianLawsResponse('');
    res.json(result);
});
PEDESTRIAN_LAWS

echo "โ ููุงูู ุนุงุจุฑุงู ูพุงุฏู ุงุถุงูู ุดุฏ"

# ุงูุฒูุฏู ููุงูู ฺุฑุงุบโูุง
cat >> server-v7.js << 'TRAFFIC_LIGHTS_LAWS'

// ==================== ููุงูู ฺุฑุงุบโูุง ู ุนูุงุฆู ====================
const trafficLightsLaws = {
    title: "ููุงูู ฺุฑุงุบโูุง ู ุนูุงุฆู ุฑุงูููุง",
    lights: {
        red: {
            meaning: "ุชููู ฺฉุงูู ูุจู ุงุฒ ุฎุท ุงุณุช",
            action: "ุชููู ฺฉุงูู ู ุงูุชุธุงุฑ ุจุฑุง ุณุจุฒ ุดุฏู",
            exceptions: "ุฎูุฏุฑููุง ุงูุฏุงุฏ ุจุง ุขฺุฑ ุฑูุดู"
        },
        yellow: {
            meaning: "ุขูุงุฏู ุจุฑุง ุชููู",
            action: "ฺฉุงูุด ุณุฑุนุช ู ุชููู ุฏุฑ ุตูุฑุช ุงูฺฉุงู ุงูู"
        },
        green: {
            meaning: "ุนุจูุฑ ูุฌุงุฒ", 
            action: "ุนุจูุฑ ุจุง ุงุญุชุงุท ู ุฑุนุงุช ุญู ุชูุฏู"
        }
    },
    penalties: {
        title: "ุฌุฑุงู ฺุฑุงุบโูุง ู ุนูุงุฆู",
        fines: [
            "ุนุจูุฑ ุงุฒ ฺุฑุงุบ ูุฑูุฒ: ฑ,ฐฐฐ,ฐฐฐ ุชููุงู",
            "ุนุฏู ุฑุนุงุช ฺุฑุงุบ ุฒุฑุฏ: ตฐฐ,ฐฐฐ ุชููุงู",
            "ุนุฏู ุงุณุชูุงุฏู ุงุฒ ฺุฑุงุบ ุฑุงูููุง: ฒฐฐ,ฐฐฐ ุชููุงู",
            "ุนุฏู ุฑุนุงุช ุนูุงูุช ุงุณุช: ดฐฐ,ฐฐฐ ุชููุงู"
        ]
    }
};

function generateTrafficLightsLawsResponse(userMessage) {
    let response = "๐ฅ **" + trafficLightsLaws.title + "**\n\n";
    
    response += "๐ด **ฺุฑุงุบ ูุฑูุฒ:**\n";
    response += "โข ูุนู: " + trafficLightsLaws.lights.red.meaning + "\n";
    response += "โข ุงูุฏุงู: " + trafficLightsLaws.lights.red.action + "\n";
    response += "โข ุงุณุชุซูุง: " + trafficLightsLaws.lights.red.exceptions + "\n\n";
    
    response += "๐ก **ฺุฑุงุบ ุฒุฑุฏ:**\n";
    response += "โข ูุนู: " + trafficLightsLaws.lights.yellow.meaning + "\n";
    response += "โข ุงูุฏุงู: " + trafficLightsLaws.lights.yellow.action + "\n\n";
    
    response += "๐ข **ฺุฑุงุบ ุณุจุฒ:**\n";
    response += "โข ูุนู: " + trafficLightsLaws.lights.green.meaning + "\n";
    response += "โข ุงูุฏุงู: " + trafficLightsLaws.lights.green.action + "\n\n";
    
    response += "๐ฐ **" + trafficLightsLaws.penalties.title + ":**\n";
    trafficLightsLaws.penalties.fines.forEach(fine => {
        response += "โข " + fine + "\n";
    });
    
    const alerts = [
        "๐ฅ **ูุดุฏุงุฑ:** ุนุจูุฑ ุงุฒ ฺุฑุงุบ ูุฑูุฒ ฺฉ ุงุฒ ุฎุทุฑูุงฺฉโุชุฑู ุชุฎููุงุช ุงุณุช",
        "๐ก **ุชูุตู:** ููุดู ูุจู ุงุฒ ุชูุงุทุน ุณุฑุนุช ุฎูุฏ ุฑุง ฺฉุงูุด ุฏูุฏ"
    ];
    
    return { response, alerts };
}

app.get('/api/laws/traffic-lights', (req, res) => {
    const result = generateTrafficLightsLawsResponse('');
    res.json(result);
});
TRAFFIC_LIGHTS_LAWS

echo "โ ููุงูู ฺุฑุงุบโูุง ุงุถุงูู ุดุฏ"

# ุงูุฒูุฏู ููุงูู ุงูู
cat >> server-v7.js << 'SAFETY_LAWS'

// ==================== ููุงูู ุงูู ====================
const safetyLaws = {
    title: "ููุงูู ุงูู ู ุชุฌูุฒุงุช",
    seatbelts: {
        title: "ููุงูู ฺฉูุฑุจูุฏ ุงูู",
        rules: [
            "ุงูุฒุงู ุจุฑุง ุฑุงููุฏู ู ฺฉูู ุณุฑูุดูุงู",
            "ุจุณุชู ฺฉูุฑุจูุฏ ูุจู ุงุฒ ุดุฑูุน ุญุฑฺฉุช",
            "ุนุฏู ุดู ฺฉุฑุฏู ฺฉูุฑุจูุฏ ุฏุฑ ุญู ุญุฑฺฉุช"
        ]
    },
    equipment: {
        title: "ุชุฌูุฒุงุช ุงูู ุงูุฒุงู",
        required: [
            "ุฌุนุจู ฺฉูฺฉโูุง ุงููู",
            "ูุซูุซ ุงุญุชุงุท",
            "ฺฉูพุณูู ุขุชุดโูุดุงู (ูุณุงู ูููู ุฎุงุต)"
        ]
    },
    penalties: {
        title: "ุฌุฑุงู ุงูู",
        fines: [
            "ุนุฏู ุจุณุชู ฺฉูุฑุจูุฏ: ฒฐฐ,ฐฐฐ ุชููุงู",
            "ูุฏุงุดุชู ุฌุนุจู ฺฉูฺฉโูุง ุงููู: ณฐฐ,ฐฐฐ ุชููุงู",
            "ูุฏุงุดุชู ูุซูุซ ุงุญุชุงุท: ฒฐฐ,ฐฐฐ ุชููุงู"
        ]
    }
};

function generateSafetyLawsResponse(userMessage) {
    let response = "๐ **" + safetyLaws.title + "**\n\n";
    
    response += "๐ **" + safetyLaws.seatbelts.title + ":**\n";
    safetyLaws.seatbelts.rules.forEach(rule => {
        response += "โข " + rule + "\n";
    });
    
    response += "\n๐ **" + safetyLaws.equipment.title + ":**\n";
    safetyLaws.equipment.required.forEach(item => {
        response += "โข " + item + "\n";
    });
    
    response += "\n๐ฐ **" + safetyLaws.penalties.title + ":**\n";
    safetyLaws.penalties.fines.forEach(fine => {
        response += "โข " + fine + "\n";
    });
    
    const alerts = [
        "๐ **ูุดุฏุงุฑ:** ฺฉูุฑุจูุฏ ุงูู ุดุงูุณ ุฒูุฏู ูุงูุฏู ุฏุฑ ุชุตุงุฏู ุฑุง ตฐูช ุงูุฒุงุด ูโุฏูุฏ",
        "๐ถ **ุชูุตู:** ฺฉูุฏฺฉุงู ุจุงุฏ ููุดู ุฏุฑ ุตูุฏู ุนูุจ ุจูุดููุฏ"
    ];
    
    return { response, alerts };
}

app.get('/api/laws/safety', (req, res) => {
    const result = generateSafetyLawsResponse('');
    res.json(result);
});

console.log('โ ุณุณุชู ููุงูู ุฑุงูููุง ู ุฑุงููุฏฺฏ ุจุงุฑฺฏุฐุงุฑ ุดุฏ');
SAFETY_LAWS

echo "โ ููุงูู ุงูู ุงุถุงูู ุดุฏ"

echo ""
echo "๐ฏ ุชูุงู ููุงูู ุจุง ููููุช ุงุถุงูู ุดุฏูุฏ!"
echo "๐ endpointูุง ุฌุฏุฏ:"
echo "โข GET /api/laws/speed - ููุงูู ุณุฑุนุช"
echo "โข GET /api/laws/overtaking - ููุงูู ุณุจูุช"
echo "โข GET /api/laws/pedestrian - ููุงูู ุนุงุจุฑุงู ูพุงุฏู"
echo "โข GET /api/laws/traffic-lights - ููุงูู ฺุฑุงุบโูุง"
echo "โข GET /api/laws/safety - ููุงูู ุงูู"
echo ""
echo "๐ ุญุงูุง ุณุฑูุฑ ุฑุง ุงุฌุฑุง ฺฉูุฏ: npm start"
